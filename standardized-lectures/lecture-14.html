<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¬¬14è¯¾æ—¶ - K8sæ ¸å¿ƒèµ„æºï¼ˆä¸Šï¼‰</title>
  <link rel="stylesheet" href="../lecture-assets/css/lecture-template.css">
</head>
<body>
  <div class="lecture-page">
    <div class="page-container" id="pageContainer">

<div class="page cover-page">
        <div class="cover-content">
          <div class="course-badge">è™šæ‹ŸåŒ–å®¹å™¨æŠ€æœ¯</div>
          <h1 class="main-title">ç¬¬14è¯¾æ—¶</h1>
          <h2 class="sub-title">K8sæ ¸å¿ƒèµ„æºï¼ˆä¸Šï¼‰</h2>
          <p class="tagline">Podä¸Deployment</p>
          <div class="meta-info">
            <span>ğŸ“š 90åˆ†é’Ÿ</span>
            <span>ğŸ¯ ç†è®º+å®æ“</span>
            <span>ğŸ“Š è¿›é˜¶çº§</span>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">è¯¾ç¨‹ç›®æ ‡</h2>
        <div class="objective-list">
          <div class="objective-item">
            <span class="objective-num">01</span>
            <div class="objective-content">
              <h3>ç†è§£Podæ ¸å¿ƒæ¦‚å¿µ</h3>
              <p>æŒæ¡K8sæœ€å°è°ƒåº¦å•ä½ï¼Œç†è§£å®¹å™¨å…±äº«ç½‘ç»œä¸å­˜å‚¨æœºåˆ¶</p>
            </div>
          </div>
          <div class="objective-item">
            <span class="objective-num">02</span>
            <div class="objective-content">
              <h3>æŒæ¡Deploymentç¼–æ’</h3>
              <p>å­¦ä¼šæ— çŠ¶æ€åº”ç”¨ç¼–æ’ã€Podå‰¯æœ¬ç®¡ç†ä¸æ»šåŠ¨æ›´æ–°ç­–ç•¥</p>
            </div>
          </div>
          <div class="objective-item">
            <span class="objective-num">03</span>
            <div class="objective-content">
              <h3>ç†è§£æ§åˆ¶å™¨åŸç†</h3>
              <p>æ·±å…¥ç†è§£Deploymentå¦‚ä½•ä¿è¯Podå‰¯æœ¬æ•°çš„å£°æ˜å¼ç®¡ç†</p>
            </div>
          </div>
          <div class="objective-item">
            <span class="objective-num">04</span>
            <div class="objective-content">
              <h3>å®Œæˆå®æˆ˜æ“ä½œ</h3>
              <p>ç‹¬ç«‹å®ŒæˆPodåˆ›å»ºã€Deploymentéƒ¨ç½²ä¸ç‰ˆæœ¬å›æ»šæ“ä½œ</p>
            </div>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">è¯¾ç¨‹å®‰æ’</h2>
        <div class="schedule-grid">
          <div class="schedule-item theory">
            <div class="schedule-icon">ğŸ“š</div>
            <div class="schedule-content">
              <h3>ç†è®ºè®²è§£</h3>
              <p>35åˆ†é’Ÿ</p>
              <span>Podæ ¸å¿ƒæ¦‚å¿µ + DeploymentåŸç†</span>
            </div>
          </div>
          <div class="schedule-item practice">
            <div class="schedule-icon">ğŸ’»</div>
            <div class="schedule-content">
              <h3>å®æ“ç¯èŠ‚</h3>
              <p>45åˆ†é’Ÿ</p>
              <span>Podåˆ›å»º + Deploymentç®¡ç†</span>
            </div>
          </div>
          <div class="schedule-item exercise">
            <div class="schedule-icon">âœï¸</div>
            <div class="schedule-content">
              <h3>éšå ‚ç»ƒä¹ </h3>
              <p>10åˆ†é’Ÿ</p>
              <span>Redis Deploymentå®æˆ˜</span>
            </div>
          </div>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 1</div>
        <h2 class="section-title">Podæ ¸å¿ƒæ¦‚å¿µ</h2>
        <p class="section-desc">Kubernetesæœ€å°è°ƒåº¦å•ä½</p>
      </div>

      <div class="page">
        <h2 class="page-title">ä»€ä¹ˆæ˜¯Podï¼Ÿ</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">Pod</span>
          </div>
          <p class="term-def">Podæ˜¯Kubernetesä¸­æœ€å°çš„å¯éƒ¨ç½²å•å…ƒï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç´§å¯†å…³è”çš„å®¹å™¨ï¼Œè¿™äº›å®¹å™¨å…±äº«ç½‘ç»œå‘½åç©ºé—´å’Œå­˜å‚¨å·ã€‚</p>
        </div>
        <div class="highlight-box">
          <h3>æ ¸å¿ƒç‰¹æ€§</h3>
          <ul class="feature-list">
            <li><strong>æœ€å°è°ƒåº¦å•ä½</strong>ï¼šK8sä¸ç›´æ¥è°ƒåº¦å®¹å™¨ï¼Œè€Œæ˜¯è°ƒåº¦Pod</li>
            <li><strong>å…±äº«ç½‘ç»œ</strong>ï¼šåŒä¸€Podå†…çš„å®¹å™¨å…±äº«IPåœ°å€å’Œç«¯å£ç©ºé—´</li>
            <li><strong>å…±äº«å­˜å‚¨</strong>ï¼šå¯é€šè¿‡Volumeåœ¨å®¹å™¨é—´å…±äº«æ•°æ®</li>
            <li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šPodæ˜¯çŸ­æš‚çš„ï¼Œéšæ—¶å¯èƒ½è¢«é”€æ¯é‡å»º</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Podå†…éƒ¨æ¶æ„</h2>
        <div class="arch-diagram">
          <div class="pod-container">
            <div class="pod-header">
              <span class="pod-label">Pod</span>
              <span class="pod-ip">IP: 10.244.1.5</span>
            </div>
            <div class="containers-row">
              <div class="container-box main">
                <div class="container-name">ä¸»å®¹å™¨</div>
                <div class="container-detail">Nginx:1.21</div>
                <div class="container-port">Port: 80</div>
              </div>
              <div class="container-box side">
                <div class="container-name">è¾¹è½¦å®¹å™¨</div>
                <div class="container-detail">Log Agent</div>
                <div class="container-port">æ”¶é›†æ—¥å¿—</div>
              </div>
            </div>
            <div class="shared-resources">
              <div class="shared-item">ğŸ“¦ å…±äº«å­˜å‚¨ (Volume)</div>
              <div class="shared-item">ğŸŒ å…±äº«ç½‘ç»œ (localhost)</div>
            </div>
          </div>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>åŒä¸€Podå†…çš„å®¹å™¨å¯é€šè¿‡ <code>localhost</code> ç›´æ¥é€šä¿¡ï¼Œéå¸¸é€‚åˆç´§å¯†åä½œçš„å®¹å™¨ç»„åˆã€‚</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Podçš„ç”Ÿå‘½å‘¨æœŸ</h2>
        <div class="lifecycle-flow">
          <div class="lifecycle-phase">
            <div class="phase-icon">ğŸ“</div>
            <div class="phase-name">Pending</div>
            <div class="phase-desc">Podå·²åˆ›å»ºï¼Œç­‰å¾…è°ƒåº¦</div>
          </div>
          <div class="lifecycle-arrow">â†’</div>
          <div class="lifecycle-phase">
            <div class="phase-icon">ğŸ”„</div>
            <div class="phase-name">Running</div>
            <div class="phase-desc">Podå·²è°ƒåº¦ï¼Œå®¹å™¨è¿è¡Œä¸­</div>
          </div>
          <div class="lifecycle-arrow">â†’</div>
          <div class="lifecycle-phase">
            <div class="phase-icon">âœ…</div>
            <div class="phase-name">Succeeded</div>
            <div class="phase-desc">æ‰€æœ‰å®¹å™¨æˆåŠŸç»ˆæ­¢</div>
          </div>
          <div class="lifecycle-arrow">â†’</div>
          <div class="lifecycle-phase">
            <div class="phase-icon">âŒ</div>
            <div class="phase-name">Failed</div>
            <div class="phase-desc">å®¹å™¨å¼‚å¸¸é€€å‡º</div>
          </div>
        </div>
        <div class="highlight-box warning">
          <h3>âš ï¸ é‡è¦æç¤º</h3>
          <p>Podæ˜¯è„†å¼±çš„ï¼èŠ‚ç‚¹æ•…éšœã€èµ„æºä¸è¶³ã€å¥åº·æ£€æŸ¥å¤±è´¥éƒ½ä¼šå¯¼è‡´Podè¢«åˆ é™¤é‡å»ºï¼Œæ–°Podä¼šè·å¾—æ–°çš„IPåœ°å€ã€‚</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Pod YAMLç»“æ„è§£æ</h2>
        <div class="code-block">
          <div class="code-header">
            <span>nginx-pod.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
  labels:
    app: nginx
spec:
  containers:
  - name: nginx
    image: nginx:1.21
    ports:
    - containerPort: 80
    resources:
      requests:
        memory: "128Mi"
        cpu: "100m"
      limits:
        memory: "256Mi"
        cpu: "200m"</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Podå…³é”®å­—æ®µè¯´æ˜</h2>
        <div class="field-table">
          <div class="field-row header">
            <div class="field-col">å­—æ®µ</div>
            <div class="field-col">è¯´æ˜</div>
            <div class="field-col">ç¤ºä¾‹</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>apiVersion</code></div>
            <div class="field-col">APIç‰ˆæœ¬</div>
            <div class="field-col">v1</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>kind</code></div>
            <div class="field-col">èµ„æºç±»å‹</div>
            <div class="field-col">Pod</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>metadata.name</code></div>
            <div class="field-col">Podåç§°</div>
            <div class="field-col">nginx-pod</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>metadata.labels</code></div>
            <div class="field-col">æ ‡ç­¾ï¼ˆç”¨äºé€‰æ‹©å™¨ï¼‰</div>
            <div class="field-col">app: nginx</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>spec.containers</code></div>
            <div class="field-col">å®¹å™¨åˆ—è¡¨</div>
            <div class="field-col">-</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>resources</code></div>
            <div class="field-col">èµ„æºé™åˆ¶</div>
            <div class="field-col">requests/limits</div>
          </div>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 2</div>
        <h2 class="section-title">Deploymentæ§åˆ¶å™¨</h2>
        <p class="section-desc">æ— çŠ¶æ€åº”ç”¨ç¼–æ’çš„æ ¸å¿ƒ</p>
      </div>

      <div class="page">
        <h2 class="page-title">ä¸ºä»€ä¹ˆéœ€è¦Deploymentï¼Ÿ</h2>
        <div class="pain-points-grid">
          <div class="pain-point">
            <div class="pain-icon">ğŸ˜°</div>
            <h3>Podçš„ç—›ç‚¹</h3>
            <ul>
              <li>Pod IPä¼šå˜åŒ–</li>
              <li>Podæ— æ³•è‡ªåŠ¨æ¢å¤</li>
              <li>æ— æ³•è½»æ¾æ‰©ç¼©å®¹</li>
              <li>æ›´æ–°éœ€è¦æ‰‹åŠ¨æ“ä½œ</li>
            </ul>
          </div>
          <div class="pain-point solution">
            <div class="pain-icon">ğŸ˜Š</div>
            <h3>Deploymentè§£å†³æ–¹æ¡ˆ</h3>
            <ul>
              <li>è‡ªåŠ¨ç»´æŠ¤Podå‰¯æœ¬æ•°</li>
              <li>æ”¯æŒæ»šåŠ¨æ›´æ–°</li>
              <li>æ”¯æŒç‰ˆæœ¬å›æ»š</li>
              <li>å£°æ˜å¼ç®¡ç†</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Deploymentæ ¸å¿ƒæ¦‚å¿µ</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">Deployment</span>
          </div>
          <p class="term-def">Deploymentæ˜¯Kubernetesä¸­ç®¡ç†æ— çŠ¶æ€åº”ç”¨çš„å·¥ä½œè´Ÿè½½æ§åˆ¶å™¨ï¼Œé€šè¿‡ReplicaSetå®ç°Podå‰¯æœ¬ç®¡ç†å’Œæ»šåŠ¨æ›´æ–°ã€‚</p>
        </div>
        <div class="hierarchy-diagram">
          <div class="hierarchy-level">
            <div class="hierarchy-box deployment">Deployment</div>
            <div class="hierarchy-desc">å®šä¹‰æœŸæœ›çŠ¶æ€</div>
          </div>
          <div class="hierarchy-arrow">â†“ ç®¡ç†</div>
          <div class="hierarchy-level">
            <div class="hierarchy-box replicaset">ReplicaSet</div>
            <div class="hierarchy-desc">ç»´æŠ¤å‰¯æœ¬æ•°</div>
          </div>
          <div class="hierarchy-arrow">â†“ åˆ›å»º</div>
          <div class="hierarchy-level">
            <div class="hierarchy-box pod">Pod Ã— N</div>
            <div class="hierarchy-desc">è¿è¡Œå®¹å™¨</div>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">æ§åˆ¶å™¨åŸç†</h2>
        <div class="control-loop-diagram">
          <div class="loop-center">
            <div class="loop-title">æ§åˆ¶å¾ªç¯</div>
            <div class="loop-subtitle">Control Loop</div>
          </div>
          <div class="loop-steps">
            <div class="loop-step">
              <div class="step-num">1</div>
              <div class="step-content">
                <h4>è·å–æœŸæœ›çŠ¶æ€</h4>
                <p>ä»YAMLè¯»å–replicas: 3</p>
              </div>
            </div>
            <div class="loop-step">
              <div class="step-num">2</div>
              <div class="step-content">
                <h4>è§‚å¯Ÿå½“å‰çŠ¶æ€</h4>
                <p>æŸ¥è¯¢å½“å‰è¿è¡Œçš„Podæ•°é‡</p>
              </div>
            </div>
            <div class="loop-step">
              <div class="step-num">3</div>
              <div class="step-content">
                <h4>è®¡ç®—å·®å¼‚</h4>
                <p>æœŸæœ›3ä¸ªï¼Œå®é™…2ä¸ªï¼Œå·®1ä¸ª</p>
              </div>
            </div>
            <div class="loop-step">
              <div class="step-num">4</div>
              <div class="step-content">
                <h4>æ‰§è¡Œè°ƒè°</h4>
                <p>åˆ›å»º1ä¸ªæ–°Podè¾¾åˆ°æœŸæœ›</p>
              </div>
            </div>
          </div>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>è¿™ç§"å£°æ˜å¼"ç®¡ç†æ–¹å¼æ˜¯K8sçš„æ ¸å¿ƒè®¾è®¡ç†å¿µâ€”â€”ä½ åªéœ€è¦æè¿°æœŸæœ›çŠ¶æ€ï¼ŒK8sè´Ÿè´£å®ç°å®ƒã€‚</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">æ»šåŠ¨æ›´æ–°æœºåˆ¶</h2>
        <div class="rolling-update-visual">
          <div class="update-phase">
            <div class="phase-label">æ›´æ–°å‰</div>
            <div class="pods-row">
              <div class="pod-box old">v1</div>
              <div class="pod-box old">v1</div>
              <div class="pod-box old">v1</div>
            </div>
          </div>
          <div class="update-arrow">â†“ æ»šåŠ¨æ›´æ–°</div>
          <div class="update-phase">
            <div class="phase-label">æ›´æ–°ä¸­</div>
            <div class="pods-row">
              <div class="pod-box old">v1</div>
              <div class="pod-box old">v1</div>
              <div class="pod-box new">v2</div>
            </div>
          </div>
          <div class="update-arrow">â†“ ç»§ç»­æ›´æ–°</div>
          <div class="update-phase">
            <div class="phase-label">æ›´æ–°å®Œæˆ</div>
            <div class="pods-row">
              <div class="pod-box new">v2</div>
              <div class="pod-box new">v2</div>
              <div class="pod-box new">v2</div>
            </div>
          </div>
        </div>
        <div class="highlight-box">
          <h3>æ»šåŠ¨æ›´æ–°ç­–ç•¥</h3>
          <p><code>maxSurge: 1</code> - æœ€å¤šå¯ä»¥å¤šåˆ›å»º1ä¸ªPod</p>
          <p><code>maxUnavailable: 1</code> - æœ€å¤šå¯ä»¥æœ‰1ä¸ªPodä¸å¯ç”¨</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Deployment YAMLç¤ºä¾‹</h2>
        <div class="code-block">
          <div class="code-header">
            <span>nginx-deployment.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:1.21
        ports:
        - containerPort: 80</code></pre>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 3</div>
        <h2 class="section-title">å®æ“ç¯èŠ‚</h2>
        <p class="section-desc">Podä¸Deploymentå®æˆ˜æ“ä½œ</p>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“1ï¼šåˆ›å»ºNginx Pod</h2>
        <div class="code-block">
          <div class="code-header">
            <span>åˆ›å»ºPod</span>
          </div>
          <pre class="code-content"><code>kubectl apply -f nginx-pod.yaml

kubectl get pods -o wide
NAME        READY   STATUS    RESTARTS   AGE   IP           NODE
nginx-pod   1/1     Running   0          10s   10.244.1.5   node1

kubectl describe pod nginx-pod</code></pre>
        </div>
        <div class="highlight-box">
          <h3>å¸¸ç”¨å‘½ä»¤</h3>
          <ul class="cmd-list">
            <li><code>kubectl get pods</code> - æŸ¥çœ‹Podåˆ—è¡¨</li>
            <li><code>kubectl describe pod &lt;name&gt;</code> - æŸ¥çœ‹Podè¯¦æƒ…</li>
            <li><code>kubectl logs &lt;pod&gt;</code> - æŸ¥çœ‹å®¹å™¨æ—¥å¿—</li>
            <li><code>kubectl exec -it &lt;pod&gt; -- bash</code> - è¿›å…¥å®¹å™¨</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“2ï¼šç«¯å£è½¬å‘è®¿é—®Pod</h2>
        <div class="code-block">
          <div class="code-header">
            <span>æœ¬åœ°ç«¯å£è½¬å‘</span>
          </div>
          <pre class="code-content"><code>kubectl port-forward nginx-pod 8080:80

# è¾“å‡ºï¼š
Forwarding from 127.0.0.1:8080 -> 80
Forwarding from [::1]:8080 -> 80</code></pre>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>æ‰“å¼€æµè§ˆå™¨è®¿é—® <code>http://localhost:8080</code> å³å¯çœ‹åˆ°Nginxæ¬¢è¿é¡µé¢ã€‚</p>
        </div>
        <div class="code-block">
          <div class="code-header">
            <span>è¿›å…¥Podå®¹å™¨</span>
          </div>
          <pre class="code-content"><code>kubectl exec -it nginx-pod -- bash

root@nginx-pod:/# curl localhost
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;Welcome to nginx!&lt;/head&gt;
...</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“3ï¼šåˆ›å»ºDeployment</h2>
        <div class="code-block">
          <div class="code-header">
            <span>åˆ›å»º3å‰¯æœ¬Deployment</span>
          </div>
          <pre class="code-content"><code>kubectl apply -f nginx-deployment.yaml

kubectl get deployments
NAME               READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deployment   3/3     3            3           30s

kubectl get pods
NAME                                READY   STATUS    AGE
nginx-deployment-6b7f675859-2x4kl   1/1     Running   30s
nginx-deployment-6b7f675859-7m8np   1/1     Running   30s
nginx-deployment-6b7f675859-xk9pl   1/1     Running   30s</code></pre>
        </div>
        <div class="highlight-box">
          <h3>è§‚å¯Ÿè¦ç‚¹</h3>
          <p>Podåç§°æ ¼å¼ï¼š<code>&lt;deployment-name&gt;-&lt;replicaset-hash&gt;-&lt;pod-hash&gt;</code></p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“4ï¼šæ»šåŠ¨æ›´æ–°</h2>
        <div class="code-block">
          <div class="code-header">
            <span>æ›´æ–°é•œåƒç‰ˆæœ¬</span>
          </div>
          <pre class="code-content"><code>kubectl set image deployment/nginx-deployment nginx=nginx:1.22

# æˆ–è€…ä¿®æ”¹YAMLåé‡æ–°apply
kubectl apply -f nginx-deployment.yaml

# æŸ¥çœ‹æ»šåŠ¨æ›´æ–°çŠ¶æ€
kubectl rollout status deployment/nginx-deployment
Waiting for deployment "nginx-deployment" rollout to finish: 1 out of 3 new replicas...
deployment "nginx-deployment" successfully rolled out</code></pre>
        </div>
        <div class="code-block">
          <div class="code-header">
            <span>æŸ¥çœ‹æ›´æ–°å†å²</span>
          </div>
          <pre class="code-content"><code>kubectl rollout history deployment/nginx-deployment
REVISION  CHANGE-CAUSE
1         &lt;none&gt;
2         &lt;none&gt;</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“5ï¼šç‰ˆæœ¬å›æ»š</h2>
        <div class="code-block">
          <div class="code-header">
            <span>å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬</span>
          </div>
          <pre class="code-content"><code>kubectl rollout undo deployment/nginx-deployment

# å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
kubectl rollout undo deployment/nginx-deployment --to-revision=1

# æŸ¥çœ‹å›æ»šçŠ¶æ€
kubectl rollout status deployment/nginx-deployment</code></pre>
        </div>
        <div class="highlight-box warning">
          <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
          <ul>
            <li>é»˜è®¤ä¿ç•™10ä¸ªå†å²ç‰ˆæœ¬</li>
            <li>å›æ»šæ˜¯å³æ—¶ç”Ÿæ•ˆçš„</li>
            <li>ç”Ÿäº§ç¯å¢ƒå»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“6ï¼šæ‰©ç¼©å®¹</h2>
        <div class="code-block">
          <div class="code-header">
            <span>æ‰‹åŠ¨æ‰©ç¼©å®¹</span>
          </div>
          <pre class="code-content"><code>kubectl scale deployment/nginx-deployment --replicas=5

kubectl get pods
NAME                                READY   STATUS    AGE
nginx-deployment-6b7f675859-2x4kl   1/1     Running   5m
nginx-deployment-6b7f675859-7m8np   1/1     Running   5m
nginx-deployment-6b7f675859-xk9pl   1/1     Running   5m
nginx-deployment-6b7f675859-a1b2c   1/1     Running   10s
nginx-deployment-6b7f675859-d4e5f   1/1     Running   10s

kubectl scale deployment/nginx-deployment --replicas=2</code></pre>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>æ‰©ç¼©å®¹æ“ä½œä¼šç«‹å³ç”Ÿæ•ˆï¼ŒK8sæ§åˆ¶å™¨ä¼šè‡ªåŠ¨è°ƒæ•´Podæ•°é‡ã€‚</p>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 4</div>
        <h2 class="section-title">éšå ‚ç»ƒä¹ </h2>
        <p class="section-desc">å·©å›ºæ‰€å­¦çŸ¥è¯†</p>
      </div>

      <div class="page">
        <h2 class="page-title">ç»ƒä¹ ä»»åŠ¡</h2>
        <div class="exercise-card">
          <div class="exercise-header">
            <span class="exercise-badge">åŠ¨æ‰‹ç»ƒä¹ </span>
            <span class="exercise-time">10åˆ†é’Ÿ</span>
          </div>
          <div class="exercise-content">
            <h3>ä»»åŠ¡è¦æ±‚</h3>
            <ol class="exercise-steps">
              <li>åˆ›å»ºä¸€ä¸ªDeploymentéƒ¨ç½²Redisï¼Œå‰¯æœ¬æ•°ä¸º2</li>
              <li>æ‰§è¡Œæ»šåŠ¨æ›´æ–°ï¼Œå°†Redisç‰ˆæœ¬ä»6.0.8æ›´æ–°åˆ°7.0.0</li>
              <li>æäº¤Deployment YAMLæ–‡ä»¶å’Œæ›´æ–°å‰åçš„Podåˆ—è¡¨</li>
            </ol>
          </div>
        </div>
        <div class="hint-box">
          <span class="hint-icon">ğŸ’¡</span>
          <div class="hint-content">
            <h4>æç¤º</h4>
            <p>Redisé»˜è®¤ç«¯å£ï¼š6379</p>
            <p>é•œåƒï¼šredis:6.0.8 â†’ redis:7.0.0</p>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å‚è€ƒç­”æ¡ˆæ¡†æ¶</h2>
        <div class="code-block">
          <div class="code-header">
            <span>redis-deployment.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: apps/v1
kind: Deployment
metadata:
  name: redis-deployment
spec:
  replicas: 2
  selector:
    matchLabels:
      app: redis
  template:
    metadata:
      labels:
        app: redis
    spec:
      containers:
      - name: redis
        image: redis:6.0.8
        ports:
        - containerPort: 6379</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">è¯¾ç¨‹æ€»ç»“</h2>
        <div class="summary-grid">
          <div class="summary-item">
            <h3>Podæ ¸å¿ƒè¦ç‚¹</h3>
            <ul>
              <li>K8sæœ€å°è°ƒåº¦å•ä½</li>
              <li>å®¹å™¨å…±äº«ç½‘ç»œå’Œå­˜å‚¨</li>
              <li>ç”Ÿå‘½å‘¨æœŸçŸ­æš‚ï¼ŒIPä¼šå˜åŒ–</li>
            </ul>
          </div>
          <div class="summary-item">
            <h3>Deploymentæ ¸å¿ƒè¦ç‚¹</h3>
            <ul>
              <li>ç®¡ç†æ— çŠ¶æ€åº”ç”¨</li>
              <li>è‡ªåŠ¨ç»´æŠ¤Podå‰¯æœ¬æ•°</li>
              <li>æ”¯æŒæ»šåŠ¨æ›´æ–°å’Œå›æ»š</li>
            </ul>
          </div>
          <div class="summary-item">
            <h3>æ ¸å¿ƒå‘½ä»¤</h3>
            <ul>
              <li>kubectl apply -f</li>
              <li>kubectl get pods/deployments</li>
              <li>kubectl rollout undo</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">ä¸‹èŠ‚é¢„å‘Š</h2>
        <div class="preview-card">
          <h3>ç¬¬15è®²ï¼šK8sæ ¸å¿ƒèµ„æºï¼ˆä¸‹ï¼‰- Serviceä¸Ingress</h3>
          <div class="preview-topics">
            <div class="preview-topic">
              <span class="topic-icon">ğŸ”—</span>
              <span>Serviceï¼šè§£å†³Pod IPåŠ¨æ€å˜åŒ–é—®é¢˜</span>
            </div>
            <div class="preview-topic">
              <span class="topic-icon">ğŸŒ</span>
              <span>Serviceç±»å‹ï¼šClusterIP/NodePort/LoadBalancer</span>
            </div>
            <div class="preview-topic">
              <span class="topic-icon">ğŸš€</span>
              <span>Ingressï¼šHTTPä¸ƒå±‚è·¯ç”±è½¬å‘</span>
            </div>
            <div class="preview-topic">
              <span class="topic-icon">ğŸ’»</span>
              <span>å®æ“ï¼šéƒ¨ç½²Nginx Ingress Controller</span>
            </div>
          </div>
        </div>
        <div class="page-number">ç¬¬14è®² / å…±22é¡µ</div>
      </div>

    </div>

    <div class="page-navigation">
      <button class="nav-btn prev" id="prevBtn">ä¸Šä¸€é¡µ</button>
      <div class="page-indicator">
        <span class="current" id="currentPage">1</span>
        <span class="separator">/</span>
        <span class="total" id="totalPages">22</span>
      </div>
      <button class="nav-btn next" id="nextBtn">ä¸‹ä¸€é¡µ</button>
    </div>

  </div>

  <script src="../lecture-assets/js/lecture-template.js"></script>
</body>
</html>
