<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¬¬15è¯¾æ—¶ - K8sæ ¸å¿ƒèµ„æºï¼ˆä¸‹ï¼‰</title>
  <link rel="stylesheet" href="../lecture-assets/css/lecture-template.css">
</head>
<body>
  <div class="lecture-page">
    <div class="page-container" id="pageContainer">

<div class="page cover-page">
        <div class="cover-content">
          <div class="course-badge">è™šæ‹ŸåŒ–å®¹å™¨æŠ€æœ¯</div>
          <h1 class="main-title">ç¬¬15è¯¾æ—¶</h1>
          <h2 class="sub-title">K8sæ ¸å¿ƒèµ„æºï¼ˆä¸‹ï¼‰</h2>
          <p class="tagline">Serviceä¸Ingress</p>
          <div class="meta-info">
            <span>ğŸ“š 90åˆ†é’Ÿ</span>
            <span>ğŸ¯ ç†è®º+å®æ“</span>
            <span>ğŸ“Š è¿›é˜¶çº§</span>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">è¯¾ç¨‹ç›®æ ‡</h2>
        <div class="objective-list">
          <div class="objective-item">
            <span class="objective-num">01</span>
            <div class="objective-content">
              <h3>ç†è§£Serviceæ ¸å¿ƒä»·å€¼</h3>
              <p>æŒæ¡Serviceå¦‚ä½•è§£å†³Pod IPåŠ¨æ€å˜åŒ–çš„ç—›ç‚¹</p>
            </div>
          </div>
          <div class="objective-item">
            <span class="objective-num">02</span>
            <div class="objective-content">
              <h3>æŒæ¡å››ç§Serviceç±»å‹</h3>
              <p>ClusterIPã€NodePortã€LoadBalancerã€ExternalNameçš„ä½¿ç”¨åœºæ™¯</p>
            </div>
          </div>
          <div class="objective-item">
            <span class="objective-num">03</span>
            <div class="objective-content">
              <h3>ç†è§£IngressåŸç†</h3>
              <p>æŒæ¡HTTPä¸ƒå±‚è·¯ç”±è½¬å‘ä¸Ingress Controlleréƒ¨ç½²</p>
            </div>
          </div>
          <div class="objective-item">
            <span class="objective-num">04</span>
            <div class="objective-content">
              <h3>å®Œæˆå®æˆ˜æ“ä½œ</h3>
              <p>ç‹¬ç«‹å®ŒæˆServiceåˆ›å»ºä¸IngressåŸŸåè·¯ç”±é…ç½®</p>
            </div>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">è¯¾ç¨‹å®‰æ’</h2>
        <div class="schedule-grid">
          <div class="schedule-item theory">
            <div class="schedule-icon">ğŸ“š</div>
            <div class="schedule-content">
              <h3>ç†è®ºè®²è§£</h3>
              <p>40åˆ†é’Ÿ</p>
              <span>Serviceç±»å‹ + IngressåŸç†</span>
            </div>
          </div>
          <div class="schedule-item practice">
            <div class="schedule-icon">ğŸ’»</div>
            <div class="schedule-content">
              <h3>å®æ“ç¯èŠ‚</h3>
              <p>40åˆ†é’Ÿ</p>
              <span>Service + Ingresså®æˆ˜</span>
            </div>
          </div>
          <div class="schedule-item exercise">
            <div class="schedule-icon">âœï¸</div>
            <div class="schedule-content">
              <h3>éšå ‚ç»ƒä¹ </h3>
              <p>10åˆ†é’Ÿ</p>
              <span>Redis Serviceå®æˆ˜</span>
            </div>
          </div>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 1</div>
        <h2 class="section-title">Serviceæ ¸å¿ƒä»·å€¼</h2>
        <p class="section-desc">è§£å†³Pod IPåŠ¨æ€å˜åŒ–çš„ç—›ç‚¹</p>
      </div>

      <div class="page">
        <h2 class="page-title">Pod IPçš„é—®é¢˜</h2>
        <div class="problem-diagram">
          <div class="problem-scenario">
            <div class="scenario-title">åœºæ™¯ï¼šPodé‡å»ºåIPå˜åŒ–</div>
            <div class="scenario-flow">
              <div class="flow-step">
                <div class="step-box pod-old">
                  <div class="pod-info">Pod-A</div>
                  <div class="pod-ip">IP: 10.244.1.5</div>
                </div>
              </div>
              <div class="flow-arrow">èŠ‚ç‚¹æ•…éšœ/é‡å»º</div>
              <div class="flow-step">
                <div class="step-box pod-new">
                  <div class="pod-info">Pod-A'</div>
                  <div class="pod-ip">IP: 10.244.2.8</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="highlight-box warning">
          <h3>âš ï¸ æ ¸å¿ƒç—›ç‚¹</h3>
          <ul>
            <li>Pod IPæ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œæ¯æ¬¡é‡å»ºéƒ½ä¼šå˜åŒ–</li>
            <li>å®¢æˆ·ç«¯æ— æ³•æå‰çŸ¥é“Podçš„æ–°IPåœ°å€</li>
            <li>ç›´æ¥è®¿é—®Pod IPåœ¨ç”Ÿäº§ç¯å¢ƒä¸å¯è¡Œ</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Serviceè§£å†³æ–¹æ¡ˆ</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">Service</span>
          </div>
          <p class="term-def">Serviceæ˜¯Kubernetesä¸­å®šä¹‰ä¸€ç»„Podè®¿é—®ç­–ç•¥çš„æŠ½è±¡ï¼Œé€šè¿‡Label Selectorè‡ªåŠ¨å‘ç°åç«¯Podï¼Œæä¾›ç¨³å®šçš„è®¿é—®å…¥å£ã€‚</p>
        </div>
        <div class="solution-diagram">
          <div class="service-layer">
            <div class="service-box">
              <div class="service-name">Service</div>
              <div class="service-ip">ClusterIP: 10.96.0.1</div>
              <div class="service-dns">DNS: nginx-service.default.svc</div>
            </div>
          </div>
          <div class="connection-line">â†“ è´Ÿè½½å‡è¡¡</div>
          <div class="pods-layer">
            <div class="pod-node">Pod-1<br/>10.244.1.5</div>
            <div class="pod-node">Pod-2<br/>10.244.1.6</div>
            <div class="pod-node">Pod-3<br/>10.244.2.3</div>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Serviceæ ¸å¿ƒç‰¹æ€§</h2>
        <div class="feature-cards">
          <div class="feature-card">
            <div class="feature-icon">ğŸ”’</div>
            <h3>ç¨³å®šå…¥å£</h3>
            <p>æä¾›å›ºå®šçš„ClusterIPå’ŒDNSåç§°ï¼Œä¸éšPodå˜åŒ–</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">âš–ï¸</div>
            <h3>è´Ÿè½½å‡è¡¡</h3>
            <p>è‡ªåŠ¨å°†è¯·æ±‚åˆ†å‘åˆ°åç«¯æ‰€æœ‰å¥åº·Pod</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ”</div>
            <h3>æœåŠ¡å‘ç°</h3>
            <p>é€šè¿‡Label Selectorè‡ªåŠ¨å‘ç°åŒ¹é…çš„Pod</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ¥</div>
            <h3>å¥åº·æ£€æŸ¥</h3>
            <p>è‡ªåŠ¨å‰”é™¤ä¸å¥åº·çš„Podï¼Œä¿è¯æœåŠ¡å¯ç”¨</p>
          </div>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 2</div>
        <h2 class="section-title">Serviceç±»å‹è¯¦è§£</h2>
        <p class="section-desc">å››ç§Serviceç±»å‹åŠå…¶ä½¿ç”¨åœºæ™¯</p>
      </div>

      <div class="page">
        <h2 class="page-title">Serviceç±»å‹æ¦‚è§ˆ</h2>
        <div class="type-overview">
          <div class="type-card clusterip">
            <div class="type-header">
              <span class="type-name">ClusterIP</span>
              <span class="type-badge default">é»˜è®¤</span>
            </div>
            <p class="type-desc">ä»…é›†ç¾¤å†…éƒ¨å¯è®¿é—®</p>
            <div class="type-scenario">å¾®æœåŠ¡å†…éƒ¨è°ƒç”¨</div>
          </div>
          <div class="type-card nodeport">
            <div class="type-header">
              <span class="type-name">NodePort</span>
              <span class="type-badge test">æµ‹è¯•</span>
            </div>
            <p class="type-desc">é€šè¿‡èŠ‚ç‚¹IP+ç«¯å£æš´éœ²</p>
            <div class="type-scenario">å¼€å‘æµ‹è¯•ç¯å¢ƒ</div>
          </div>
          <div class="type-card loadbalancer">
            <div class="type-header">
              <span class="type-name">LoadBalancer</span>
              <span class="type-badge prod">ç”Ÿäº§</span>
            </div>
            <p class="type-desc">å¯¹æ¥äº‘å‚å•†è´Ÿè½½å‡è¡¡</p>
            <div class="type-scenario">å…¬ç½‘è®¿é—®æœåŠ¡</div>
          </div>
          <div class="type-card externalname">
            <div class="type-header">
              <span class="type-name">ExternalName</span>
              <span class="type-badge special">ç‰¹æ®Š</span>
            </div>
            <p class="type-desc">æ˜ å°„å¤–éƒ¨æœåŠ¡</p>
            <div class="type-scenario">è·¨é›†ç¾¤/å¤–éƒ¨è°ƒç”¨</div>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">ClusterIPç±»å‹</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">ClusterIP</span>
          </div>
          <p class="term-def">ClusterIPæ˜¯Serviceçš„é»˜è®¤ç±»å‹ï¼Œåˆ†é…ä¸€ä¸ªé›†ç¾¤å†…éƒ¨çš„è™šæ‹ŸIPï¼Œä»…é›†ç¾¤å†…çš„Podå¯ä»¥è®¿é—®ã€‚</p>
        </div>
        <div class="code-block">
          <div class="code-header">
            <span>clusterip-service.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: ClusterIP
  selector:
    app: nginx
  ports:
  - port: 80
    targetPort: 80</code></pre>
        </div>
        <div class="highlight-box">
          <h3>ä½¿ç”¨åœºæ™¯</h3>
          <ul>
            <li>å¾®æœåŠ¡ä¹‹é—´çš„å†…éƒ¨è°ƒç”¨</li>
            <li>æ•°æ®åº“ã€ç¼“å­˜ç­‰å†…éƒ¨æœåŠ¡</li>
            <li>ä¸éœ€è¦å¤–éƒ¨è®¿é—®çš„åç«¯æœåŠ¡</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">NodePortç±»å‹</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">NodePort</span>
          </div>
          <p class="term-def">NodePortåœ¨æ¯ä¸ªNodeä¸Šå¼€æ”¾ä¸€ä¸ªå›ºå®šç«¯å£ï¼ˆ30000-32767ï¼‰ï¼Œå¤–éƒ¨å¯ä»¥é€šè¿‡ä»»æ„Nodeçš„IP+ç«¯å£è®¿é—®æœåŠ¡ã€‚</p>
        </div>
        <div class="nodeport-diagram">
          <div class="external-access">
            <div class="client">å®¢æˆ·ç«¯</div>
            <div class="access-arrow">è®¿é—® NodeIP:30080</div>
          </div>
          <div class="nodes-row">
            <div class="node-box">
              <div class="node-name">Node1</div>
              <div class="node-port">:30080</div>
            </div>
            <div class="node-box">
              <div class="node-name">Node2</div>
              <div class="node-port">:30080</div>
            </div>
          </div>
          <div class="service-box-mini">Service â†’ Pods</div>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>NodePortç«¯å£èŒƒå›´é»˜è®¤ä¸º30000-32767ï¼Œå¯é€šè¿‡API Serveré…ç½®ä¿®æ”¹ã€‚</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">NodePort YAMLç¤ºä¾‹</h2>
        <div class="code-block">
          <div class="code-header">
            <span>nodeport-service.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: v1
kind: Service
metadata:
  name: nginx-nodeport
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
  - port: 80
    targetPort: 80
    nodePort: 30080</code></pre>
        </div>
        <div class="field-table">
          <div class="field-row header">
            <div class="field-col">å­—æ®µ</div>
            <div class="field-col">è¯´æ˜</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>port</code></div>
            <div class="field-col">Serviceæš´éœ²çš„ç«¯å£</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>targetPort</code></div>
            <div class="field-col">å®¹å™¨å†…ç«¯å£</div>
          </div>
          <div class="field-row">
            <div class="field-col"><code>nodePort</code></div>
            <div class="field-col">èŠ‚ç‚¹ç«¯å£ï¼ˆå¯çœç•¥ï¼Œè‡ªåŠ¨åˆ†é…ï¼‰</div>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">LoadBalancerç±»å‹</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">LoadBalancer</span>
          </div>
          <p class="term-def">LoadBalancerç±»å‹ä¼šè‡ªåŠ¨è¯·æ±‚äº‘å‚å•†ï¼ˆå¦‚AWSã€é˜¿é‡Œäº‘ï¼‰åˆ›å»ºè´Ÿè½½å‡è¡¡å™¨ï¼Œå¹¶å°†å¤–éƒ¨æµé‡è½¬å‘åˆ°Serviceã€‚</p>
        </div>
        <div class="lb-diagram">
          <div class="cloud-lb">
            <div class="lb-icon">â˜ï¸</div>
            <div class="lb-name">äº‘è´Ÿè½½å‡è¡¡å™¨</div>
            <div class="lb-ip">External IP</div>
          </div>
          <div class="lb-arrow">â†“</div>
          <div class="service-row">
            <div class="svc-box">Service (LoadBalancer)</div>
          </div>
          <div class="lb-arrow">â†“</div>
          <div class="pods-mini">
            <span>Pod1</span>
            <span>Pod2</span>
            <span>Pod3</span>
          </div>
        </div>
        <div class="highlight-box">
          <h3>ä½¿ç”¨åœºæ™¯</h3>
          <p>ç”Ÿäº§ç¯å¢ƒéœ€è¦å…¬ç½‘è®¿é—®çš„WebæœåŠ¡ã€APIæœåŠ¡ç­‰</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">ExternalNameç±»å‹</h2>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">ExternalName</span>
          </div>
          <p class="term-def">ExternalNameå°†Serviceæ˜ å°„åˆ°å¤–éƒ¨DNSåç§°ï¼Œä¸åˆ›å»ºClusterIPï¼Œç”¨äºè®¿é—®é›†ç¾¤å¤–éƒ¨æœåŠ¡ã€‚</p>
        </div>
        <div class="code-block">
          <div class="code-header">
            <span>external-service.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: v1
kind: Service
metadata:
  name: external-mysql
spec:
  type: ExternalName
  externalName: mysql.external.example.com</code></pre>
        </div>
        <div class="highlight-box">
          <h3>ä½¿ç”¨åœºæ™¯</h3>
          <ul>
            <li>è®¿é—®é›†ç¾¤å¤–éƒ¨çš„æ•°æ®åº“æœåŠ¡</li>
            <li>è·¨é›†ç¾¤æœåŠ¡è°ƒç”¨</li>
            <li>è¿ç§»æœŸé—´çš„æœåŠ¡åˆ«å</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Serviceç±»å‹å¯¹æ¯”</h2>
        <div class="compare-table">
          <div class="compare-header">
            <div class="compare-cell">ç±»å‹</div>
            <div class="compare-cell">è®¿é—®èŒƒå›´</div>
            <div class="compare-cell">å…¸å‹åœºæ™¯</div>
            <div class="compare-cell">ä¾èµ–</div>
          </div>
          <div class="compare-row">
            <div class="compare-cell"><strong>ClusterIP</strong></div>
            <div class="compare-cell">é›†ç¾¤å†…éƒ¨</div>
            <div class="compare-cell">å¾®æœåŠ¡å†…éƒ¨è°ƒç”¨</div>
            <div class="compare-cell">æ— </div>
          </div>
          <div class="compare-row">
            <div class="compare-cell"><strong>NodePort</strong></div>
            <div class="compare-cell">é›†ç¾¤å¤–éƒ¨</div>
            <div class="compare-cell">å¼€å‘æµ‹è¯•ç¯å¢ƒ</div>
            <div class="compare-cell">æ— </div>
          </div>
          <div class="compare-row">
            <div class="compare-cell"><strong>LoadBalancer</strong></div>
            <div class="compare-cell">å…¬ç½‘è®¿é—®</div>
            <div class="compare-cell">ç”Ÿäº§ç¯å¢ƒ</div>
            <div class="compare-cell">äº‘å‚å•†</div>
          </div>
          <div class="compare-row">
            <div class="compare-cell"><strong>ExternalName</strong></div>
            <div class="compare-cell">å¤–éƒ¨æœåŠ¡</div>
            <div class="compare-cell">è·¨é›†ç¾¤è°ƒç”¨</div>
            <div class="compare-cell">DNS</div>
          </div>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 3</div>
        <h2 class="section-title">IngressåŸç†</h2>
        <p class="section-desc">HTTPä¸ƒå±‚è·¯ç”±è½¬å‘</p>
      </div>

      <div class="page">
        <h2 class="page-title">ä¸ºä»€ä¹ˆéœ€è¦Ingressï¼Ÿ</h2>
        <div class="pain-points-grid">
          <div class="pain-point">
            <div class="pain-icon">ğŸ˜°</div>
            <h3>NodePortçš„ç—›ç‚¹</h3>
            <ul>
              <li>æ¯ä¸ªæœåŠ¡å ç”¨ä¸€ä¸ªç«¯å£</li>
              <li>ç«¯å£èŒƒå›´æœ‰é™ï¼ˆ30000-32767ï¼‰</li>
              <li>æ— æ³•åŸºäºåŸŸåè·¯ç”±</li>
              <li>ä¸æ”¯æŒHTTPSç»ˆæ­¢</li>
            </ul>
          </div>
          <div class="pain-point solution">
            <div class="pain-icon">ğŸ˜Š</div>
            <h3>Ingressè§£å†³æ–¹æ¡ˆ</h3>
            <ul>
              <li>å•ä¸€å…¥å£ç‚¹</li>
              <li>åŸºäºåŸŸå/è·¯å¾„è·¯ç”±</li>
              <li>æ”¯æŒHTTPSè¯ä¹¦ç®¡ç†</li>
              <li>ä¸ƒå±‚è´Ÿè½½å‡è¡¡</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Ingressæ¶æ„</h2>
        <div class="ingress-arch">
          <div class="client-layer">
            <div class="client-box">å®¢æˆ·ç«¯è¯·æ±‚</div>
          </div>
          <div class="ingress-layer">
            <div class="ingress-controller">
              <div class="ic-name">Ingress Controller</div>
              <div class="ic-type">(Nginx/Traefik)</div>
            </div>
            <div class="ingress-rules">
              <div class="rule-item">nginx.example.com â†’ nginx-svc</div>
              <div class="rule-item">api.example.com â†’ api-svc</div>
            </div>
          </div>
          <div class="services-layer">
            <div class="svc-item">nginx-svc</div>
            <div class="svc-item">api-svc</div>
          </div>
        </div>
        <div class="term-box">
          <div class="term-header">
            <span class="term-icon">ğŸ“–</span>
            <span class="term-name">Ingress</span>
          </div>
          <p class="term-def">Ingressæ˜¯K8sä¸­ç®¡ç†å¤–éƒ¨è®¿é—®é›†ç¾¤å†…æœåŠ¡çš„è§„åˆ™é›†åˆï¼Œæ”¯æŒHTTP/HTTPSè·¯ç”±ã€SSLç»ˆæ­¢ã€åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºç­‰ã€‚</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Ingress Controller</h2>
        <div class="ic-intro">
          <p>Ingressæœ¬èº«åªæ˜¯è§„åˆ™å®šä¹‰ï¼Œéœ€è¦<strong>Ingress Controller</strong>æ¥å®ç°å…·ä½“çš„æµé‡è½¬å‘ã€‚</p>
        </div>
        <div class="ic-options">
          <div class="ic-card">
            <div class="ic-logo">ğŸŒ</div>
            <h3>Nginx Ingress</h3>
            <p>æœ€å¸¸ç”¨ï¼Œç¤¾åŒºæ”¯æŒå¥½</p>
            <span class="ic-badge recommended">æ¨è</span>
          </div>
          <div class="ic-card">
            <div class="ic-logo">ğŸš€</div>
            <h3>Traefik</h3>
            <p>è‡ªåŠ¨æœåŠ¡å‘ç°ï¼Œé…ç½®ç®€å•</p>
          </div>
          <div class="ic-card">
            <div class="ic-logo">âš¡</div>
            <h3>Kong</h3>
            <p>APIç½‘å…³åŠŸèƒ½ä¸°å¯Œ</p>
          </div>
          <div class="ic-card">
            <div class="ic-logo">ğŸ”’</div>
            <h3>HAProxy</h3>
            <p>é«˜æ€§èƒ½TCP/HTTPä»£ç†</p>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">Ingress YAMLç¤ºä¾‹</h2>
        <div class="code-block">
          <div class="code-header">
            <span>nginx-ingress.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: nginx-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx
  rules:
  - host: nginx.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: nginx-service
            port:
              number: 80</code></pre>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 4</div>
        <h2 class="section-title">å®æ“ç¯èŠ‚</h2>
        <p class="section-desc">Serviceä¸Ingresså®æˆ˜æ“ä½œ</p>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“1ï¼šåˆ›å»ºClusterIP Service</h2>
        <div class="code-block">
          <div class="code-header">
            <span>åŸºäºNginx Deploymentåˆ›å»ºService</span>
          </div>
          <pre class="code-content"><code>kubectl apply -f nginx-deployment.yaml

kubectl expose deployment nginx-deployment --port=80 --target-port=80 --name=nginx-service

kubectl get svc
NAME            TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
nginx-service   ClusterIP   10.96.158.120   &lt;none&gt;        80/TCP    10s

kubectl describe svc nginx-service</code></pre>
        </div>
        <div class="highlight-box">
          <h3>æµ‹è¯•é›†ç¾¤å†…éƒ¨è®¿é—®</h3>
          <pre class="inline-code"><code>kubectl run test-pod --image=busybox --rm -it -- wget -qO- nginx-service</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“2ï¼šåˆ›å»ºNodePort Service</h2>
        <div class="code-block">
          <div class="code-header">
            <span>åˆ›å»ºNodePortç±»å‹Service</span>
          </div>
          <pre class="code-content"><code>kubectl apply -f - &lt;&lt;EOF
apiVersion: v1
kind: Service
metadata:
  name: nginx-nodeport
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
  - port: 80
    targetPort: 80
    nodePort: 30080
EOF

kubectl get svc
NAME             TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
nginx-nodeport   NodePort   10.96.200.50    &lt;none&gt;        80:30080/TCP   5s</code></pre>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>è®¿é—® <code>http://&lt;ä»»æ„NodeIP&gt;:30080</code> å³å¯è®¿é—®NginxæœåŠ¡</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“3ï¼škubectl exposeå¿«é€Ÿåˆ›å»º</h2>
        <div class="code-block">
          <div class="code-header">
            <span>å‘½ä»¤è¡Œå¿«é€Ÿåˆ›å»ºService</span>
          </div>
          <pre class="code-content"><code>kubectl expose deployment nginx-deployment \
  --type=NodePort \
  --port=80 \
  --target-port=80 \
  --name=nginx-quick

kubectl get svc nginx-quick
NAME          TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE
nginx-quick   NodePort   10.96.50.100   &lt;none&gt;        80:31234/TCP   5s</code></pre>
        </div>
        <div class="highlight-box">
          <h3>expose vs YAML</h3>
          <ul>
            <li><code>kubectl expose</code> - å¿«é€Ÿåˆ›å»ºï¼Œé€‚åˆæµ‹è¯•</li>
            <li>YAMLæ–‡ä»¶ - å¯ç‰ˆæœ¬æ§åˆ¶ï¼Œé€‚åˆç”Ÿäº§</li>
          </ul>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“4ï¼šéƒ¨ç½²Ingress Controller</h2>
        <div class="code-block">
          <div class="code-header">
            <span>éƒ¨ç½²Nginx Ingress Controller</span>
          </div>
          <pre class="code-content"><code>kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.1/deploy/static/provider/cloud/deploy.yaml

kubectl get pods -n ingress-nginx
NAME                                        READY   STATUS    AGE
ingress-nginx-controller-xxxxxx-yyyyy       1/1     Running   30s

kubectl get svc -n ingress-nginx
NAME                                 TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)
ingress-nginx-controller             LoadBalancer   10.96.100.1     &lt;pending&gt;     80:30080/TCP</code></pre>
        </div>
        <div class="note-box">
          <span class="note-icon">ğŸ’¡</span>
          <p>æœ¬åœ°ç¯å¢ƒEXTERNAL-IPä¼šæ˜¾ç¤ºpendingï¼Œå¯é€šè¿‡NodePortè®¿é—®</p>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“5ï¼šåˆ›å»ºIngressè§„åˆ™</h2>
        <div class="code-block">
          <div class="code-header">
            <span>åˆ›å»ºIngressé…ç½®åŸŸåè·¯ç”±</span>
          </div>
          <pre class="code-content"><code>kubectl apply -f - &lt;&lt;EOF
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: nginx-ingress
spec:
  ingressClassName: nginx
  rules:
  - host: nginx.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: nginx-service
            port:
              number: 80
EOF

kubectl get ingress
NAME            CLASS   HOSTS               ADDRESS        PORTS   AGE
nginx-ingress   nginx   nginx.example.com   192.168.1.100  80      10s</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å®æ“6ï¼šéªŒè¯åŸŸåè®¿é—®</h2>
        <div class="code-block">
          <div class="code-header">
            <span>ä¿®æ”¹æœ¬åœ°hostsæ–‡ä»¶éªŒè¯</span>
          </div>
          <pre class="code-content"><code># Windows: C:\Windows\System32\drivers\etc\hosts
# Linux/Mac: /etc/hosts

# æ·»åŠ ä¸€è¡Œ
192.168.1.100  nginx.example.com

# æµ‹è¯•è®¿é—®
curl http://nginx.example.com
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;Welcome to nginx!&lt;/head&gt;
...</code></pre>
        </div>
        <div class="highlight-box success">
          <h3>âœ… éªŒè¯æˆåŠŸ</h3>
          <p>é€šè¿‡åŸŸåæˆåŠŸè®¿é—®åˆ°NginxæœåŠ¡ï¼ŒIngressè·¯ç”±é…ç½®ç”Ÿæ•ˆï¼</p>
        </div>
      </div>

      <div class="page section-page">
        <div class="section-number">Part 5</div>
        <h2 class="section-title">éšå ‚ç»ƒä¹ </h2>
        <p class="section-desc">å·©å›ºæ‰€å­¦çŸ¥è¯†</p>
      </div>

      <div class="page">
        <h2 class="page-title">ç»ƒä¹ ä»»åŠ¡</h2>
        <div class="exercise-card">
          <div class="exercise-header">
            <span class="exercise-badge">åŠ¨æ‰‹ç»ƒä¹ </span>
            <span class="exercise-time">10åˆ†é’Ÿ</span>
          </div>
          <div class="exercise-content">
            <h3>ä»»åŠ¡è¦æ±‚</h3>
            <ol class="exercise-steps">
              <li>ä¸ºç¬¬14è¯¾æ—¶çš„Redis Deploymentåˆ›å»ºClusterIP Serviceï¼Œç«¯å£æ˜ å°„ä¸º6379</li>
              <li>å¯åŠ¨ä¸€ä¸ªæµ‹è¯•Podï¼Œé€šè¿‡Redis Serviceåç§°+ç«¯å£è¿æ¥Rediså¹¶è®¾ç½®key</li>
              <li>æäº¤Service YAMLæ–‡ä»¶ã€æµ‹è¯•Podçš„è¿æ¥å‘½ä»¤åŠRedisè¿”å›ç»“æœ</li>
            </ol>
          </div>
        </div>
        <div class="hint-box">
          <span class="hint-icon">ğŸ’¡</span>
          <div class="hint-content">
            <h4>æç¤º</h4>
            <p>Serviceåç§°ï¼šredis-service</p>
            <p>è¿æ¥å‘½ä»¤ï¼š<code>redis-cli -h redis-service -p 6379</code></p>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">å‚è€ƒç­”æ¡ˆæ¡†æ¶</h2>
        <div class="code-block">
          <div class="code-header">
            <span>redis-service.yaml</span>
          </div>
          <pre class="code-content"><code>apiVersion: v1
kind: Service
metadata:
  name: redis-service
spec:
  type: ClusterIP
  selector:
    app: redis
  ports:
  - port: 6379
    targetPort: 6379</code></pre>
        </div>
        <div class="code-block">
          <div class="code-header">
            <span>æµ‹è¯•è¿æ¥å‘½ä»¤</span>
          </div>
          <pre class="code-content"><code>kubectl run redis-cli --image=redis:7.0 --rm -it -- redis-cli -h redis-service SET test "hello"

kubectl run redis-cli --image=redis:7.0 --rm -it -- redis-cli -h redis-service GET test
"hello"</code></pre>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">è¯¾ç¨‹æ€»ç»“</h2>
        <div class="summary-grid">
          <div class="summary-item">
            <h3>Serviceæ ¸å¿ƒè¦ç‚¹</h3>
            <ul>
              <li>è§£å†³Pod IPåŠ¨æ€å˜åŒ–é—®é¢˜</li>
              <li>æä¾›ç¨³å®šçš„è®¿é—®å…¥å£</li>
              <li>æ”¯æŒè´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°</li>
            </ul>
          </div>
          <div class="summary-item">
            <h3>å››ç§Serviceç±»å‹</h3>
            <ul>
              <li>ClusterIPï¼šé›†ç¾¤å†…éƒ¨è®¿é—®</li>
              <li>NodePortï¼šèŠ‚ç‚¹ç«¯å£æš´éœ²</li>
              <li>LoadBalancerï¼šäº‘è´Ÿè½½å‡è¡¡</li>
              <li>ExternalNameï¼šå¤–éƒ¨æœåŠ¡æ˜ å°„</li>
            </ul>
          </div>
          <div class="summary-item">
            <h3>Ingressæ ¸å¿ƒè¦ç‚¹</h3>
            <ul>
              <li>HTTPä¸ƒå±‚è·¯ç”±è½¬å‘</li>
              <li>åŸºäºåŸŸå/è·¯å¾„è·¯ç”±</li>
              <li>éœ€è¦Ingress Controller</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="page">
        <h2 class="page-title">ä¸‹èŠ‚é¢„å‘Š</h2>
        <div class="preview-card">
          <h3>ç¬¬16è®²ï¼šK8så®æˆ˜ä¸è¯¾ç¨‹æ€»ç»“</h3>
          <div class="preview-topics">
            <div class="preview-topic">
              <span class="topic-icon">âš™ï¸</span>
              <span>ConfigMapä¸Secreté…ç½®ç®¡ç†</span>
            </div>
            <div class="preview-topic">
              <span class="topic-icon">ğŸ’¾</span>
              <span>PersistentVolumeæŒä¹…åŒ–å­˜å‚¨</span>
            </div>
            <div class="preview-topic">
              <span class="topic-icon">ğŸ“¦</span>
              <span>HelmåŒ…ç®¡ç†å·¥å…·</span>
            </div>
            <div class="preview-topic">
              <span class="topic-icon">ğŸš€</span>
              <span>ç»¼åˆå®æˆ˜ï¼šSpringBoot+MySQLå…¨æ ˆéƒ¨ç½²</span>
            </div>
          </div>
        </div>
        <div class="page-number">ç¬¬15è®² / å…±24é¡µ</div>
      </div>

    </div>

    <div class="page-navigation">
      <button class="nav-btn prev" id="prevBtn">ä¸Šä¸€é¡µ</button>
      <div class="page-indicator">
        <span class="current" id="currentPage">1</span>
        <span class="separator">/</span>
        <span class="total" id="totalPages">24</span>
      </div>
      <button class="nav-btn next" id="nextBtn">ä¸‹ä¸€é¡µ</button>
    </div>

  </div>

  <script src="../lecture-assets/js/lecture-template.js"></script>
</body>
</html>
