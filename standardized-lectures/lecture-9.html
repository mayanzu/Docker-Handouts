<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¬¬9è¯¾æ—¶ - Docker Composeå…¥é—¨</title>
  <link rel="stylesheet" href="../lecture-assets/css/lecture-template.css">
</head>
<body>
  <div class="lecture-page">
    <div class="page-container" id="pageContainer">

<div class="page cover-page">
        <div class="cover-content">
          <div class="course-badge">è™šæ‹ŸåŒ–å®¹å™¨æŠ€æœ¯</div>
          <h1 class="main-title">ç¬¬9è¯¾æ—¶</h1>
          <h2 class="sub-title">Docker Composeå…¥é—¨</h2>
          <p class="tagline">å¤šå®¹å™¨åº”ç”¨ç¼–æ’åˆ©å™¨</p>
          <div class="meta-info">
            <span>ğŸ“š 90åˆ†é’Ÿ</span>
            <span>ğŸ¯ ç†è®º+å®æ“</span>
            <span>ğŸ“Š è¿›é˜¶çº§</span>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">01</span>
          <h1 class="page-title">è¯¾ç¨‹ç›®æ ‡</h1>
        </div>
        <div class="page-body">
          <div class="goal-list">
            <div class="goal-item">
              <div class="goal-icon">ğŸ“š</div>
              <div class="goal-content">
                <h3>ç†è§£Composeæ¦‚å¿µ</h3>
                <p>å¤šå®¹å™¨åº”ç”¨ç¼–æ’</p>
              </div>
            </div>
            <div class="goal-item">
              <div class="goal-icon">ğŸ“</div>
              <div class="goal-content">
                <h3>æŒæ¡YAMLè¯­æ³•</h3>
                <p>docker-compose.ymlç¼–å†™</p>
              </div>
            </div>
            <div class="goal-item">
              <div class="goal-icon">ğŸ”§</div>
              <div class="goal-content">
                <h3>æŒæ¡å¸¸ç”¨å‘½ä»¤</h3>
                <p>up/down/logs/ps</p>
              </div>
            </div>
            <div class="goal-item">
              <div class="goal-icon">ğŸš€</div>
              <div class="goal-content">
                <h3>å®æˆ˜é¡¹ç›®éƒ¨ç½²</h3>
                <p>WordPressåšå®¢æ­å»º</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">02</span>
          <h1 class="page-title">è¯¾ç¨‹å®‰æ’</h1>
        </div>
        <div class="page-body">
          <div class="schedule-grid">
            <div class="schedule-item">
              <div class="schedule-time">30åˆ†é’Ÿ</div>
              <div class="schedule-type">ç†è®ºè®²è§£</div>
              <div class="schedule-desc">Composeæ¦‚å¿µã€YAMLè¯­æ³•</div>
            </div>
            <div class="schedule-item">
              <div class="schedule-time">45åˆ†é’Ÿ</div>
              <div class="schedule-type">å®æ“æ¼”ç¤º</div>
              <div class="schedule-desc">å¤šå®¹å™¨åº”ç”¨éƒ¨ç½²</div>
            </div>
            <div class="schedule-item">
              <div class="schedule-time">15åˆ†é’Ÿ</div>
              <div class="schedule-type">ç»ƒä¹ ä¸æ€»ç»“</div>
              <div class="schedule-desc">ç‹¬ç«‹å®Œæˆé¡¹ç›®éƒ¨ç½²</div>
            </div>
          </div>
        </div>
      </div>

      
      <div class="page section-page">
        <div class="section-content">
          <span class="section-label">Part 1</span>
          <h1 class="section-title">Docker Composeæ¦‚è¿°</h1>
          <p class="section-desc">å¤šå®¹å™¨åº”ç”¨ç¼–æ’å·¥å…·</p>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 1.1</span>
          <h1 class="page-title">ä»€ä¹ˆæ˜¯Docker Composeï¼Ÿ</h1>
        </div>
        <div class="page-body">
          <div class="definition-box">
            <div class="definition-term">Docker Compose</div>
            <div class="definition-content">
              Dockerå®˜æ–¹æä¾›çš„å¤šå®¹å™¨åº”ç”¨ç¼–æ’å·¥å…·ï¼Œé€šè¿‡YAMLæ–‡ä»¶å®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨Dockeråº”ç”¨ã€‚
            </div>
          </div>
          <div class="term-box">
            <div class="term-title">ğŸ“š æ ¸å¿ƒæ¦‚å¿µ</div>
            <p><strong>æœåŠ¡ï¼ˆServiceï¼‰</strong>ï¼šä¸€ä¸ªåº”ç”¨çš„å®¹å™¨ï¼Œå¦‚webã€db</p>
            <p><strong>é¡¹ç›®ï¼ˆProjectï¼‰</strong>ï¼šä¸€ç»„å…³è”çš„æœåŠ¡ï¼Œå¦‚WordPressé¡¹ç›®</p>
            <p><strong>ç¼–æ’ï¼ˆOrchestrationï¼‰</strong>ï¼šå®šä¹‰æœåŠ¡é—´çš„ä¾èµ–å’Œå¯åŠ¨é¡ºåº</p>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 1.2</span>
          <h1 class="page-title">ä¸ºä»€ä¹ˆéœ€è¦Composeï¼Ÿ</h1>
        </div>
        <div class="page-body">
          <div class="pain-points-grid">
            <div class="pain-point-card" style="border-color: #fca5a5;">
              <div class="pain-icon">ğŸ˜«</div>
              <h3>æ‰‹åŠ¨ç®¡ç†</h3>
              <p>æ¯ä¸ªå®¹å™¨å•ç‹¬å¯åŠ¨</p>
              <p>å‘½ä»¤å†—é•¿æ˜“å‡ºé”™</p>
            </div>
            <div class="pain-point-card" style="border-color: #bbf7d0;">
              <div class="pain-icon">âœ…</div>
              <h3>Composeç®¡ç†</h3>
              <p>ä¸€æ¡å‘½ä»¤å¯åŠ¨æ‰€æœ‰</p>
              <p>é…ç½®æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶</p>
            </div>
          </div>
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">å¯¹æ¯”ï¼šæ‰‹åŠ¨ vs Compose</span>
            </div>
            <pre><code># æ‰‹åŠ¨æ–¹å¼ï¼ˆç¹çï¼‰
docker run -d --name db -e MYSQL_ROOT_PASSWORD=123 mysql
docker run -d --name web -p 80:80 --link db wordpress

# Composeæ–¹å¼ï¼ˆç®€æ´ï¼‰
docker-compose up -d</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 1.3</span>
          <h1 class="page-title">å®‰è£…Docker Compose</h1>
        </div>
        <div class="page-body">
          <div class="highlight-box info">
            <div class="highlight-title">ğŸ’¡ æ³¨æ„</div>
            <div class="highlight-content">
              <p>Docker Desktopå·²å†…ç½®Composeï¼Œæ— éœ€å•ç‹¬å®‰è£…ã€‚Linuxéœ€è¦å•ç‹¬å®‰è£…ã€‚</p>
            </div>
          </div>
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">Linuxå®‰è£…Compose</span>
            </div>
            <pre><code># ä¸‹è½½Compose
curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x /usr/local/bin/docker-compose

# éªŒè¯å®‰è£…
docker-compose --version</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page section-page">
        <div class="section-content">
          <span class="section-label">Part 2</span>
          <h1 class="section-title">docker-compose.ymlè¯­æ³•</h1>
          <p class="section-desc">ç¼–å†™ç¼–æ’é…ç½®æ–‡ä»¶</p>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 2.1</span>
          <h1 class="page-title">YAMLæ–‡ä»¶åŸºæœ¬ç»“æ„</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">docker-compose.yml</span>
            </div>
            <pre><code>version: '3.8'          # Composeæ–‡ä»¶ç‰ˆæœ¬

services:               # å®šä¹‰æœåŠ¡
  web:
    image: nginx
    ports:
      - "80:80"
  
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: 123456

networks:               # å®šä¹‰ç½‘ç»œï¼ˆå¯é€‰ï¼‰
  app-net:

volumes:                # å®šä¹‰å·ï¼ˆå¯é€‰ï¼‰
  db-data:</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 2.2</span>
          <h1 class="page-title">æœåŠ¡é…ç½®è¯¦è§£</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">å¸¸ç”¨æœåŠ¡é…ç½®é¡¹</span>
            </div>
            <pre><code>services:
  web:
    image: nginx:latest       # ä½¿ç”¨é•œåƒ
    build: ./                 # æˆ–ä»Dockerfileæ„å»º
    container_name: myweb     # å®¹å™¨åç§°
    ports:
      - "8080:80"             # ç«¯å£æ˜ å°„
    environment:              # ç¯å¢ƒå˜é‡
      - ENV=production
    volumes:                  # æ•°æ®å·
      - ./html:/usr/share/nginx/html
    networks:                 # ç½‘ç»œ
      - app-net
    depends_on:               # ä¾èµ–å…³ç³»
      - db
    restart: always           # é‡å¯ç­–ç•¥</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 2.3</span>
          <h1 class="page-title">ç½‘ç»œä¸å·é…ç½®</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">ç½‘ç»œé…ç½®</span>
            </div>
            <pre><code>networks:
  app-net:
    driver: bridge            # ç½‘ç»œé©±åŠ¨
    ipam:
      config:
        - subnet: 172.20.0.0/16</code></pre>
          </div>
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">å·é…ç½®</span>
            </div>
            <pre><code>volumes:
  db-data:
    driver: local             # å·é©±åŠ¨
  # æˆ–ä½¿ç”¨å¤–éƒ¨å·
  # db-data:
  #   external: true</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page section-page">
        <div class="section-content">
          <span class="section-label">Part 3</span>
          <h1 class="section-title">Composeå¸¸ç”¨å‘½ä»¤</h1>
          <p class="section-desc">ç®¡ç†å¤šå®¹å™¨åº”ç”¨</p>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 3.1</span>
          <h1 class="page-title">åŸºæœ¬å‘½ä»¤</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">å¸¸ç”¨å‘½ä»¤</span>
            </div>
            <pre><code># å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# é‡å¯æœåŠ¡
docker-compose restart

# è¿›å…¥å®¹å™¨
docker-compose exec web bash</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 3.2</span>
          <h1 class="page-title">æ›´å¤šå‘½ä»¤</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">é«˜çº§å‘½ä»¤</span>
            </div>
            <pre><code># æ„å»ºé•œåƒ
docker-compose build

# æ‹‰å–é•œåƒ
docker-compose pull

# æŸ¥çœ‹é…ç½®
docker-compose config

# åœæ­¢ä½†ä¿ç•™å®¹å™¨
docker-compose stop

# å¯åŠ¨å·²åœæ­¢çš„æœåŠ¡
docker-compose start

# åˆ é™¤åœæ­¢çš„å®¹å™¨
docker-compose rm

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker-compose top</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page section-page">
        <div class="section-content">
          <span class="section-label">Part 4</span>
          <h1 class="section-title">å®æˆ˜ï¼šWordPresséƒ¨ç½²</h1>
          <p class="section-desc">å¤šå®¹å™¨åº”ç”¨å®æˆ˜</p>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 4.1</span>
          <h1 class="page-title">WordPressé¡¹ç›®ç»“æ„</h1>
        </div>
        <div class="page-body">
          <div class="arch-diagram vertical">
            <div class="arch-box web-box">
              <div class="box-title">WordPresså®¹å™¨</div>
              <div class="box-content">
                <div class="box-item">ç«¯å£ 80</div>
                <div class="box-item">PHPåº”ç”¨</div>
              </div>
            </div>
            <div class="arch-flow">
              <span class="flow-arrow">â†“</span>
            </div>
            <div class="arch-box db-box">
              <div class="box-title">MySQLå®¹å™¨</div>
              <div class="box-content">
                <div class="box-item">ç«¯å£ 3306</div>
                <div class="box-item">æ•°æ®æŒä¹…åŒ–</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 4.2</span>
          <h1 class="page-title">ç¼–å†™docker-compose.yml</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">docker-compose.yml</span>
            </div>
            <pre><code>version: '3.8'

services:
  wordpress:
    image: wordpress:latest
    ports:
      - "8080:80"
    environment:
      WORDPRESS_DB_HOST: db
      WORDPRESS_DB_USER: wpuser
      WORDPRESS_DB_PASSWORD: wppass
      WORDPRESS_DB_NAME: wpdb
    volumes:
      - wordpress-data:/var/www/html
    depends_on:
      - db

  db:
    image: mysql:8.0
    environment:
      MYSQL_DATABASE: wpdb
      MYSQL_USER: wpuser
      MYSQL_PASSWORD: wppass
      MYSQL_ROOT_PASSWORD: rootpass
    volumes:
      - db-data:/var/lib/mysql

volumes:
  wordpress-data:
  db-data:</code></pre>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 4.3</span>
          <h1 class="page-title">å¯åŠ¨WordPressé¡¹ç›®</h1>
        </div>
        <div class="page-body">
          <div class="code-block">
            <div class="code-header">
              <span class="code-title">å¯åŠ¨å‘½ä»¤</span>
            </div>
            <pre><code># å¯åŠ¨é¡¹ç›®
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f wordpress

# è®¿é—®WordPress
# http://localhost:8080</code></pre>
          </div>
          <div class="highlight-box success">
            <div class="highlight-title">âœ… éƒ¨ç½²æˆåŠŸ</div>
            <div class="highlight-content">
              <p>è®¿é—® http://localhost:8080 å³å¯çœ‹åˆ°WordPresså®‰è£…é¡µé¢</p>
            </div>
          </div>
        </div>
      </div>

      
      <div class="page section-page">
        <div class="section-content">
          <span class="section-label">Part 5</span>
          <h1 class="section-title">éšå ‚ç»ƒä¹ </h1>
          <p class="section-desc">å·©å›ºæ‰€å­¦çŸ¥è¯†</p>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">Part 5</span>
          <h1 class="page-title">éšå ‚ç»ƒä¹ </h1>
        </div>
        <div class="page-body">
          <div class="exercise-tasks">
            <div class="exercise-task">
              <div class="task-number">1</div>
              <div class="task-content">
                <h3>ç¼–å†™é…ç½®æ–‡ä»¶</h3>
                <p>Nginx + Redis ä¸¤æœåŠ¡ç¼–æ’</p>
              </div>
            </div>
            <div class="exercise-task">
              <div class="task-number">2</div>
              <div class="task-content">
                <h3>å¯åŠ¨æœåŠ¡</h3>
                <p>ä½¿ç”¨docker-compose up -d</p>
              </div>
            </div>
            <div class="exercise-task">
              <div class="task-number">3</div>
              <div class="task-content">
                <h3>éªŒè¯æœåŠ¡</h3>
                <p>è®¿é—®Nginxï¼Œè¿æ¥Redis</p>
              </div>
            </div>
            <div class="exercise-task">
              <div class="task-number">4</div>
              <div class="task-content">
                <h3>æäº¤æˆªå›¾</h3>
                <p>docker-compose psè¾“å‡ºç»“æœ</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">æ€»ç»“</span>
          <h1 class="page-title">æœ¬è¯¾æ—¶å°ç»“</h1>
        </div>
        <div class="page-body">
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-icon">âœ…</div>
              <div class="summary-text">Composeæ¦‚å¿µï¼šå¤šå®¹å™¨åº”ç”¨ç¼–æ’å·¥å…·</div>
            </div>
            <div class="summary-item">
              <div class="summary-icon">âœ…</div>
              <div class="summary-text">YAMLè¯­æ³•ï¼šversion/services/networks/volumes</div>
            </div>
            <div class="summary-item">
              <div class="summary-icon">âœ…</div>
              <div class="summary-text">å¸¸ç”¨å‘½ä»¤ï¼šup/down/ps/logs/exec</div>
            </div>
            <div class="summary-item">
              <div class="summary-icon">âœ…</div>
              <div class="summary-text">å®æˆ˜é¡¹ç›®ï¼šWordPresså¤šå®¹å™¨éƒ¨ç½²</div>
            </div>
          </div>
        </div>
      </div>

      
      <div class="page content-page">
        <div class="page-header">
          <span class="page-number">é¢„å‘Š</span>
          <h1 class="page-title">ä¸‹èŠ‚é¢„å‘Š</h1>
        </div>
        <div class="page-body">
          <div class="next-lecture">
            <h3>ğŸ“š ç¬¬10è¯¾æ—¶ï¼šå¾®æœåŠ¡ç¼–æ’</h3>
            <ul>
              <li>å¾®æœåŠ¡æ¶æ„æ¦‚è¿°</li>
              <li>æœåŠ¡æ³¨å†Œä¸å‘ç°</li>
              <li>é…ç½®ä¸­å¿ƒ</li>
              <li>é“¾è·¯è¿½è¸ª</li>
            </ul>
          </div>
        </div>
      </div>

    </div>

    <div class="page-navigation">
      <button class="nav-btn prev" id="prevBtn">ä¸Šä¸€é¡µ</button>
      <div class="page-indicator">
        <span class="current" id="currentPage">1</span>
        <span class="separator">/</span>
        <span class="total" id="totalPages">20</span>
      </div>
      <button class="nav-btn next" id="nextBtn">ä¸‹ä¸€é¡µ</button>
    </div>

  </div>

  <script src="../lecture-assets/js/lecture-template.js"></script>
</body>
</html>
