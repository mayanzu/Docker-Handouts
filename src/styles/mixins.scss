// ============================================
// Mixins - 复用样式混入
// ============================================

// 响应式断点混入
@mixin respond-to($breakpoint) {
  @if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) { @content; }
  }
  @if $breakpoint == md {
    @media (min-width: $breakpoint-md) { @content; }
  }
  @if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) { @content; }
  }
  @if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) { @content; }
  }
}

// 卡片样式混入
@mixin card($padding: $spacing-lg) {
  background: $color-bg;
  border: 1px solid $color-border;
  border-radius: $border-radius-lg;
  padding: $padding;
  box-shadow: $shadow-sm;
}

// 按钮样式混入
@mixin button-base {
  display: inline-flex;
  align-items: center;
  gap: $spacing-xs;
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1.43;
  border-radius: $border-radius;
  border: none;
  cursor: pointer;
  transition: all $transition-fast;
  text-decoration: none;
  text-align: center;
  user-select: none;
}

@mixin button-primary {
  @include button-base;
  background: $color-primary;
  color: white;

  &:hover {
    background: $color-primary-dark;
    transform: translateY(-1px);
    box-shadow: $shadow-md;
  }

  &:active {
    transform: translateY(0);
  }
}

@mixin button-secondary {
  @include button-base;
  background: $color-bg-subtle;
  color: $color-text;
  border: 1px solid $color-border;

  &:hover {
    background: $color-bg-muted;
  }
}

// 代码块样式混入
@mixin code-block {
  font-family: $font-mono;
  font-size: 0.875rem;
  line-height: 1.45;
  padding: $spacing-md;
  margin: $spacing-md 0;
  background: $code-bg;
  border: 1px solid $color-border;
  border-radius: $border-radius-lg;
  overflow-x: auto;
}

// 文本截断混入
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// 居中内容混入
@mixin center-content {
  display: flex;
  align-items: center;
  justify-content: center;
}

// 过渡动画混入
@mixin fade-in($duration: $transition-base) {
  animation: fadeIn $duration ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

// 浮动效果混入
@mixin float-animation($duration: 3s) {
  animation: float $duration ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

// 滑入动画混入
@mixin slide-in-from($direction: left, $distance: 50px, $duration: $transition-slow) {
  animation: slideInFrom#{capitalize($direction)} $duration ease-out;
}

@keyframes slideInFromLeft {
  from { 
    opacity: 0;
    transform: translateX(-50px); 
  }
  to { 
    opacity: 1;
    transform: translateX(0); 
  }
}

@keyframes slideInFromRight {
  from { 
    opacity: 0;
    transform: translateX(50px); 
  }
  to { 
    opacity: 1;
    transform: translateX(0); 
  }
}

@keyframes slideInFromTop {
  from { 
    opacity: 0;
    transform: translateY(-50px); 
  }
  to { 
    opacity: 1;
    transform: translateY(0); 
  }
}

// 脉冲动画混入
@mixin pulse($scale: 1.05, $duration: 2s) {
  animation: pulse $duration ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

// 阴影层级混入
@mixin elevated($level: 1) {
  @if $level == 1 {
    box-shadow: $shadow-sm;
  } @else if $level == 2 {
    box-shadow: $shadow-md;
  } @else if $level == 3 {
    box-shadow: $shadow-lg;
  }
}

// 隐藏滚动条混入
@mixin hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
  
  &::-webkit-scrollbar {
    display: none;
  }
}