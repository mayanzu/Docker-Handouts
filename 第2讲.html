<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第2讲：玩转容器网络与修改网页</title>
    <link rel="stylesheet" href="模板/统一讲义样式模板.css">
    <script src="模板/js/lecture-utils.js" defer></script>
</head>
<body>

<!-- 侧边栏导航 -->
<nav class="sidebar">
    <div class="sidebar-nav">
        <h3>课程导航</h3>
        <a class="sidebar-link" href="#intro">👋 课程概览</a>
        
        <h3>Part 1: 基础准备</h3>
        <a class="sidebar-link sub-link" href="#docker-commands">一、命令速查手册</a>
        <a class="sidebar-link sub-link" href="#warmup">二、课前热身</a>
        
        <h3>Part 2: Web服务部署</h3>
        <a class="sidebar-link sub-link" href="#concept-web">三、什么是Web服务</a>
        <a class="sidebar-link sub-link" href="#nginx-run">四、启动Nginx</a>
        <a class="sidebar-link sub-link" href="#port-mapping">五、端口映射</a>
        
        <h3>Part 3: 进阶技巧</h3>
        <a class="sidebar-link sub-link" href="#hack-container">六、潜入容器改网页</a>
        <a class="sidebar-link sub-link" href="#lifecycle">七、生命周期管理</a>
        <a class="sidebar-link sub-link" href="#final-challenge">八、完整实战</a>
        
        <h3>总结</h3>
        <a class="sidebar-link sub-link" href="#summary">📝 课程小结</a>
    </div>
</nav>

<!-- 主内容区 -->
<main class="content">

    <!-- 课程头部 -->
    <header id="intro">
        <h1>第2讲：玩转容器网络与修改网页</h1>
        <p class="intro">学习 Docker 常用命令、容器网络通信原理、端口映射技术，掌握如何进入容器修改网页内容。通过实战演练，完成从启动容器到发布网页的完整流程。</p>
        
        <div class="pill-list">
            <span class="pill">Docker命令</span>
            <span class="pill">端口映射</span>
            <span class="pill">容器网络</span>
            <span class="pill">Nginx</span>
            <span class="pill">生命周期管理</span>
            <span class="pill">实战演练</span>
        </div>
    </header>

    <section id="docker-commands">
        <h2>一、Docker 常用命令速查手册</h2>

        <p>这是专门为练习准备的命令参考手册。掌握这些核心命令，你就能在竞赛中游刃有余。每个命令都附带详细说明和预期输出，方便对照练习。</p>

        <h3>1.1 基础信息命令</h3>
        <p>查看 Docker 版本和系统信息</p>

        <h4>docker version</h4>
        <p>查看 Docker 客户端和服务端的版本信息</p>
        <pre class="bash"><code>$ docker version
# 预期输出
Client: Docker Engine - Community
  Version: 24.0.6
  API version: 1.43
  Go version: go1.20.7
  OS/Arch: linux/amd64

Server: Docker Engine - Community
  Version: 24.0.6
  API version: 1.43</code></pre>

        <h4>docker info</h4>
        <p>查看 Docker 系统详细信息，包括容器、镜像、网络等统计</p>
        <pre class="bash"><code>$ docker info
# 预期输出（部分）
Containers: 2
  Running: 1
  Paused: 0
  Stopped: 1
Images: 15
Server Version: 24.0.6</code></pre>

        <h3>1.2 镜像管理命令</h3>
        <p>下载、查看、删除镜像</p>

        <h4>docker pull [镜像名:标签]</h4>
        <p>从 Docker Hub 下载镜像</p>
        <pre class="bash"><code>$ docker pull ubuntu:20.04
20.04: Pulling from library/ubuntu
Status: Downloaded newer image for ubuntu:20.04</code></pre>

        <h4>docker images</h4>
        <p>列出本地所有镜像</p>
        <pre class="bash"><code>$ docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
ubuntu        20.04     1234567890ab   2 weeks ago    72.8MB
nginx         latest    fedcba654321   1 week ago     133MB</code></pre>

        <h4>docker rmi [镜像ID或名称]</h4>
        <p>删除本地镜像</p>
        <pre class="bash"><code>$ docker rmi hello-world
Untagged: hello-world:latest
Deleted: sha256:abcdef1234567890...</code></pre>

        <h3>1.3 docker run - 最核心的命令</h3>
        <p><strong>功能：</strong>从指定镜像创建一个新容器并启动它。这是 Docker 最常用、最核心的命令。</p>

        <h4>常用参数详解</h4>

        <div class="tip-box">
            <span class="tip-title">-d 或 --detach</span>
            <p>后台运行容器，并返回容器ID。</p>
            <p><strong>适用场景：</strong>需要容器长期运行，不占用终端窗口。</p>
            <pre class="bash"><code>$ docker run -d nginx
a1b2c3d4e5f6... (容器ID)</code></pre>
        </div>

        <div class="tip-box">
            <span class="tip-title">-it (交互模式)</span>
            <p>-i：保持标准输入打开；-t：分配伪终端。</p>
            <p><strong>适用场景：</strong>需要进入容器命令行进行交互。</p>
            <pre class="bash"><code>$ docker run -it ubuntu:20.04 bash
root@abcdef123456:/#</code></pre>
        </div>

        <div class="tip-box">
            <span class="tip-title">-p 或 --publish</span>
            <p>端口映射：[宿主机端口]:[容器端口]</p>
            <p><strong>适用场景：</strong>从外部访问容器内的服务。</p>
            <pre class="bash"><code>$ docker run -d -p 8080:80 nginx
# 访问 http://localhost:8080</code></pre>
        </div>

        <div class="tip-box">
            <span class="tip-title">-v 或 --volume</span>
            <p>挂载目录：[宿主机路径]:[容器路径]</p>
            <p><strong>适用场景：</strong>持久化数据或共享文件。</p>
            <pre class="bash"><code>$ docker run -d -v /host/html:/usr/share/nginx/html nginx</code></pre>
        </div>

        <div class="tip-box">
            <span class="tip-title">--name</span>
            <p>为容器指定自定义名称。</p>
            <p><strong>适用场景：</strong>便于识别和管理容器。</p>
            <pre class="bash"><code>$ docker run -d --name my-nginx nginx</code></pre>
        </div>

        <div class="tip-box">
            <span class="tip-title">--rm</span>
            <p>容器停止后自动删除。</p>
            <p><strong>适用场景：</strong>临时测试，避免产生无用容器。</p>
            <pre class="bash"><code>$ docker run --rm ubuntu echo "Hello"
Hello</code></pre>
        </div>

        <div class="warning-box">
            <strong>注意事项：</strong>
            <ul class="checklist">
                <li>参数顺序重要：选项 → 镜像名 → 命令</li>
                <li>多个短参数可合并：<code>-d -it</code> = <code>-dit</code></li>
                <li>端口映射时宿主机端口不能被占用</li>
                <li>使用 <code>--rm</code> 后容器无法恢复</li>
            </ul>
        </div>

        <h4>更多高级参数</h4>
        <table class="prop-table">
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>示例</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>-e</code></td>
                    <td>设置环境变量</td>
                    <td><code>-e MYSQL_ROOT_PASSWORD=123</code></td>
                </tr>
                <tr>
                    <td><code>--restart</code></td>
                    <td>重启策略</td>
                    <td><code>--restart always</code></td>
                </tr>
                <tr>
                    <td><code>--network</code></td>
                    <td>指定容器网络</td>
                    <td><code>--network my-net</code></td>
                </tr>
                <tr>
                    <td><code>--memory</code></td>
                    <td>限制内存使用</td>
                    <td><code>-m 512m</code></td>
                </tr>
                <tr>
                    <td><code>--cpus</code></td>
                    <td>限制CPU使用量</td>
                    <td><code>--cpus=0.5</code></td>
                </tr>
            </tbody>
        </table>

        <div class="concept-box">
            <span class="concept-title">💼 综合使用示例</span>
            <pre class="bash"><code># 后台运行 Nginx，指定名称、端口映射、挂载目录
$ docker run -d --name my-web -p 8080:80 -v /host/html:/usr/share/nginx/html nginx

# 生产环境完整示例：添加重启策略、资源限制、环境变量
$ docker run -d \
  --name production-web \
  -p 80:80 \
  -v /var/www/html:/usr/share/nginx/html \
  --restart unless-stopped \
  -m 512m \
  --cpus=1 \
  -e TZ=Asia/Shanghai \
  nginx:alpine</code></pre>
        </div>

        <div class="tip-box">
            <span class="tip-title">💡 参数组合的最佳实践</span>
            <ul class="checklist">
                <li><strong>开发环境：</strong><code>-d -p --name --rm</code>（方便测试，用完即删）</li>
                <li><strong>生产环境：</strong><code>-d -p -v --name --restart --memory --cpus</code>（稳定可靠）</li>
                <li><strong>调试排错：</strong><code>-it --rm</code>（交互式，不留痕迹）</li>
            </ul>
        </div>

            <!-- 其他容器命令 -->
            <h3>1.4 容器管理命令速查表</h3>
            <table class="prop-table">
                <thead>
                    <tr>
                        <th>命令</th>
                        <th>说明</th>
                        <th>示例</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>docker ps</code></td>
                        <td>查看运行中的容器</td>
                        <td><code>docker ps</code></td>
                    </tr>
                    <tr>
                        <td><code>docker ps -a</code></td>
                        <td>查看所有容器（包括已停止）</td>
                        <td><code>docker ps -a</code></td>
                    </tr>
                    <tr>
                        <td><code>docker stop</code></td>
                        <td>停止容器</td>
                        <td><code>docker stop [容器名/ID]</code></td>
                    </tr>
                    <tr>
                        <td><code>docker start</code></td>
                        <td>启动已停止的容器</td>
                        <td><code>docker start [容器名/ID]</code></td>
                    </tr>
                    <tr>
                        <td><code>docker restart</code></td>
                        <td>重启容器</td>
                        <td><code>docker restart [容器名/ID]</code></td>
                    </tr>
                    <tr>
                        <td><code>docker rm</code></td>
                        <td>删除已停止的容器</td>
                        <td><code>docker rm [容器名/ID]</code></td>
                    </tr>
                    <tr>
                        <td><code>docker rm -f</code></td>
                        <td>强制删除运行中的容器</td>
                        <td><code>docker rm -f [容器名/ID]</code></td>
                    </tr>
                    <tr>
                        <td><code>docker logs</code></td>
                        <td>查看容器日志</td>
                        <td><code>docker logs [容器名/ID]</code></td>
                    </tr>
                    <tr>
                        <td><code>docker exec</code></td>
                        <td>在运行的容器中执行命令</td>
                        <td><code>docker exec -it [容器] bash</code></td>
                    </tr>
                    <tr>
                        <td><code>docker cp</code></td>
                        <td>容器与主机间复制文件</td>
                        <td><code>docker cp file.txt [容器]:/path</code></td>
                    </tr>
                </tbody>
            </table>

            <!-- docker ps 详解 -->
            <h3>1.5 docker ps - 查看容器状态详解</h3>
            <p><strong>功能：</strong>列出容器及其状态信息，是最常用的监控命令。</p>
            
            <h4>常用选项</h4>
            
            <div class="tip-box">
                <span class="tip-title">docker ps</span>
                <p>只显示运行中的容器。</p>
                <pre class="bash"><code>CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS
a1b2c3d4e5f6   nginx     "/docker-entrypoint.…"   2 minutes ago   Up 2 minutes</code></pre>
            </div>

            <div class="tip-box">
                <span class="tip-title">docker ps -a</span>
                <p>显示所有容器（包括已停止的）。</p>
            </div>

            <div class="tip-box">
                <span class="tip-title">docker ps -q</span>
                <p>只显示容器ID（配合批量操作）。</p>
                <pre class="bash"><code># 停止所有运行中的容器
$ docker stop $(docker ps -q)</code></pre>
            </div>

            <div class="tip-box">
                <span class="tip-title">docker ps --filter</span>
                <p>按条件筛选容器。</p>
                <pre class="bash"><code># 查看nginx镜像的容器
$ docker ps --filter ancestor=nginx

# 查看处于退出状态的容器
$ docker ps -a --filter status=exited</code></pre>
            </div>

            <div class="concept-box">
                <span class="concept-title">输出字段解释</span>
                <ul class="checklist">
                    <li><strong>CONTAINER ID：</strong>容器的唯一标识符（前12位）</li>
                    <li><strong>IMAGE：</strong>容器使用的镜像名称</li>
                    <li><strong>COMMAND：</strong>容器启动时执行的命令</li>
                    <li><strong>CREATED：</strong>容器创建的时间</li>
                    <li><strong>STATUS：</strong>容器状态（Up=运行中，Exited=已停止）</li>
                    <li><strong>PORTS：</strong>端口映射信息</li>
                    <li><strong>NAMES：</strong>容器名称（自动生成或用户指定）</li>
                </ul>
            </div>

            <!-- docker exec 详解 -->
            <h3>1.6 docker exec - 进入容器执行命令</h3>
            <p><strong>功能：</strong>在运行中的容器内执行命令，是调试和运维的核心工具。</p>
            
            <h4>常用场景</h4>
            
            <div class="tip-box">
                <span class="tip-title">场景1：进入容器Shell</span>
                <pre class="bash"><code># 进入bash（Ubuntu/Debian容器）
$ docker exec -it my-nginx bash

# 进入sh（Alpine容器）
$ docker exec -it my-nginx sh</code></pre>
            </div>

            <div class="tip-box">
                <span class="tip-title">场景2：执行单条命令</span>
                <pre class="bash"><code># 查看容器内某个文件
$ docker exec my-nginx cat /etc/nginx/nginx.conf

# 查看进程列表
$ docker exec my-nginx ps aux</code></pre>
            </div>

            <div class="tip-box">
                <span class="tip-title">场景3：修改配置文件</span>
                <pre class="bash"><code># 安装编辑器（Alpine）
$ docker exec my-nginx apk add nano

# 编辑文件
$ docker exec -it my-nginx nano /usr/share/nginx/html/index.html</code></pre>
            </div>

            <div class="tip-box">
                <span class="tip-title">场景4：调试网络问题</span>
                <pre class="bash"><code># 测试网络连通性
$ docker exec my-nginx ping -c 3 google.com

# 查看端口监听
$ docker exec my-nginx netstat -tuln</code></pre>
            </div>

            <div class="warning-box">
                <strong>注意事项：</strong>
                <ul class="checklist">
                    <li><code>exec</code> 只能在运行中的容器使用</li>
                    <li>退出 exec 会话不会停止容器（与 <code>docker attach</code> 不同）</li>
                    <li>Alpine 镜像默认没有 bash，使用 <code>sh</code></li>
                    <li>容器内的修改是临时的，重启后会丢失</li>
                </ul>
            </div>

            <!-- docker logs 详解 -->
            <h3>1.7 docker logs - 查看容器日志</h3>
            <p><strong>功能：</strong>获取容器的日志输出（stdout/stderr），用于排错。</p>
            
            <h4>常用选项</h4>
            
            <div class="tip-box">
                <span class="tip-title">docker logs [容器]</span>
                <p>查看所有日志。</p>
            </div>

            <div class="tip-box">
                <span class="tip-title">docker logs -f [容器]</span>
                <p>实时跟踪日志输出（类似 <code>tail -f</code>）。</p>
            </div>

            <div class="tip-box">
                <span class="tip-title">docker logs --tail 100 [容器]</span>
                <p>只查看最后100行日志。</p>
            </div>

            <div class="concept-box">
                <span class="concept-title">💡 实战案例：排查Nginx启动失败</span>
                <pre class="bash"><code># 容器启动后立即退出
$ docker ps -a
CONTAINER ID   STATUS                      NAMES
abc123         Exited (1) 5 seconds ago    my-nginx

# 查看日志找原因
$ docker logs abc123
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)

# 原因：80端口被占用</code></pre>
            </div>

            <!-- docker cp 详解 -->
            <h3>1.8 docker cp - 文件拷贝</h3>
            <p><strong>功能：</strong>在容器和主机之间复制文件或目录。</p>
            
            <div class="tip-box">
                <span class="tip-title">从主机复制到容器</span>
                <pre class="bash"><code># 复制单个文件
$ docker cp index.html my-nginx:/usr/share/nginx/html/

# 复制整个目录
$ docker cp ./html my-nginx:/usr/share/nginx/</code></pre>
            </div>

            <div class="tip-box">
                <span class="tip-title">从容器复制到主机</span>
                <pre class="bash"><code># 导出容器内的文件
$ docker cp my-nginx:/etc/nginx/nginx.conf ./nginx.conf

# 备份容器数据
$ docker cp my-nginx:/var/log/nginx ./nginx-logs</code></pre>
            </div>

            <div class="warning-box">
                <strong>注意：</strong>
                <ul class="checklist">
                    <li>容器可以是运行或停止状态</li>
                    <li>路径中的 <code>:</code> 分隔容器名和路径</li>
                    <li>目标目录必须存在，否则会报错</li>
                    <li>大文件传输较慢，建议用数据卷</li>
                </ul>
            </div>
        </section>

        <!-- Section 2: 热身 -->
        <section id="warmup" class="section-card">
            <h2>
                <i class="fas fa-dumbbell"></i>
                2. 课前热身：找回手感
            </h2>

            <p>在进入正式内容前，让我们通过几个简单操作回顾上节课的内容，为后续学习打好基础。</p>

            <h3>5步快速练习</h3>

            <h4>1. 拉取 nginx 镜像</h4>
            <pre class="bash"><code>$ docker pull nginx
Using default tag: latest
latest: Pulling from library/nginx
a2abf6c4d29d: Pull complete
a9edb18cadd1: Pull complete
Status: Downloaded newer image for nginx:latest
docker.io/library/nginx:latest</code></pre>
            <p><strong>说明：</strong>如果已经下载过，会显示 "Image is up to date"</p>

            <h4>2. 运行一个测试容器</h4>
            <pre class="bash"><code>$ docker run -d --name test-nginx nginx
a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456</code></pre>
            <p><strong>输出：</strong>这是容器的完整ID（64位），后续可用前几位代替</p>

            <h4>3. 查看容器状态</h4>
            <pre class="bash"><code>$ docker ps
CONTAINER ID   IMAGE   COMMAND                  CREATED          STATUS          PORTS     NAMES
a1b2c3d4e5f6   nginx   "/docker-entrypoint.…"   10 seconds ago   Up 9 seconds    80/tcp    test-nginx</code></pre>
            <p><strong>关键信息：</strong></p>
            <ul class="checklist">
                <li><code>STATUS: Up 9 seconds</code> - 容器正在运行</li>
                <li><code>PORTS: 80/tcp</code> - 容器内部监听80端口，但<strong>未映射</strong>到主机</li>
            </ul>

            <h4>4. 停止容器</h4>
            <pre class="bash"><code>$ docker stop test-nginx
test-nginx</code></pre>
            <p><strong>验证停止：</strong></p>
            <pre class="bash"><code>$ docker ps -a | grep test-nginx
a1b2c3d4e5f6   nginx   ...   Exited (0) 5 seconds ago   test-nginx</code></pre>

            <h4>5. 删除容器</h4>
            <pre class="bash"><code>$ docker rm test-nginx
test-nginx</code></pre>
            <p><strong>验证删除：</strong></p>
            <pre class="bash"><code>$ docker ps -a | grep test-nginx
# 无输出，说明容器已被删除</code></pre>

            <div class="tip-box">
                <span class="tip-title">小测试</span>
                <p>如果上面5步操作都顺利完成，恭喜你已经掌握了容器的基本生命周期！</p>
                <p><strong>挑战：一行命令完成</strong></p>
                <p>尝试用一行命令启动容器并在浏览器中看到效果（提示：需要端口映射）</p>
                <details>
                    <summary>点击查看答案</summary>
                    <pre class="bash"><code>$ docker run -d -p 8080:80 --name quick-test nginx

# 然后访问 http://localhost:8080</code></pre>
                </details>
            </div>
        </section>

        <!-- Section 3: Web 基础 -->
        <section id="concept-web" class="section-card">
            <h2>
                <i class="fas fa-globe"></i>
                3. 什么是 Web 服务？深入理解互联网的基础
            </h2>

            <p>在学习Docker部署Web应用前，我们需要先理解Web服务的本质和工作原理。这是计算机网络的核心知识，也是后续所有实战的理论基础。</p>

            <!-- HTTP协议基础 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-exchange-alt"></i>
                    <h4>HTTP协议：浏览器和服务器的"通用语言"</h4>
                </div>
                <div class="module-content">
                    <p><strong>HTTP (HyperText Transfer Protocol)</strong> 是超文本传输协议，定义了浏览器和服务器之间如何交换数据。</p>
                    
                    <h5>核心概念：</h5>
                    <ul>
                        <li><strong>请求-响应模型：</strong>客户端发请求，服务器返回响应</li>
                        <li><strong>无状态协议：</strong>每次请求都是独立的，服务器不记住上次的请求（通过Cookie/Session解决）</li>
                        <li><strong>基于TCP：</strong>可靠传输，保证数据不丢失、不乱序</li>
                    </ul>

                    <div class="module-command">
                        <div class="module-content">
                            <pre><code>一次HTTP请求的完整过程：

1. 浏览器输入网址：http://example.com/index.html
   ↓
2. DNS解析：将域名转换为IP地址（如 93.184.216.34）
   ↓
3. 建立TCP连接：三次握手
   ↓
4. 发送HTTP请求：
   GET /index.html HTTP/1.1
   Host: example.com
   User-Agent: Mozilla/5.0
   Accept: text/html
   ↓
5. 服务器处理请求，返回HTTP响应：
   HTTP/1.1 200 OK
   Content-Type: text/html
   Content-Length: 1024
   
   <!DOCTYPE html>
   <html>...</html>
   ↓
6. 浏览器接收HTML，渲染页面
   ↓
7. 关闭TCP连接：四次挥手</code></pre>
                        </div>
                    </div>
                </div>
            </div>

                <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-server"></i>
                    <h4>客户端-服务器模型 (Client-Server Model)</h4>
                </div>
                <div class="module-content">
                    <div class="module-tip">
                        <div class="module-content">
                            <p><strong>生活类比：</strong>餐厅点餐系统</p>
                            <div class="grid-auto">
                                <div>
                                    <p>👤 客户端（浏览器）</p>
                                    <ul>
                                        <li>顾客点餐（发送请求）</li>
                                        <li>等待上菜（等待响应）</li>
                                        <li>享用美食（渲染页面）</li>
                                    </ul>
                                </div>
                                <div>
                                    <p>🏪 服务器（Nginx）</p>
                                    <ul>
                                        <li>接收订单（接收HTTP请求）</li>
                                        <li>准备菜品（处理请求）</li>
                                        <li>送到桌上（返回HTML）</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h5>为什么需要Web服务器？</h5>
                    <ul>
                        <li><strong>监听端口：</strong>持续监听80/443端口，等待客户端连接</li>
                        <li><strong>处理请求：</strong>解析HTTP请求，找到对应的文件</li>
                        <li><strong>返回内容：</strong>读取文件内容，组装HTTP响应</li>
                        <li><strong>高并发：</strong>同时处理成千上万个请求</li>
                        <li><strong>安全防护：</strong>防止恶意攻击（如DDoS）</li>
                    </ul>
                </div>
            </div>

            <!-- 静态 vs 动态网站 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-file-code"></i>
                    <h4>静态网站 vs 动态网站</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div>
                            <h6>📄 静态网站</h6>
                            <p><strong>定义：</strong>服务器直接返回存储的HTML/CSS/JS文件，内容固定不变</p>
                            <p>适用场景：</p>
                            <ul>
                                <li>公司官网、产品展示页</li>
                                <li>个人博客（如用Hexo生成）</li>
                                <li>文档网站</li>
                            </ul>
                            <p><strong>优点：</strong>速度快、安全、易部署</p>
                        </div>
                        <div>
                            <h6>🔄 动态网站</h6>
                            <p><strong>定义：</strong>服务器运行程序（如PHP/Python）动态生成HTML，内容因人而异</p>
                            <p>适用场景：</p>
                            <ul>
                                <li>社交网络（微博、Facebook）</li>
                                <li>电商网站（淘宝、京东）</li>
                                <li>在线论坛</li>
                            </ul>
                            <p><strong>优点：</strong>个性化、交互性强</p>
                        </div>
                    </div>
                    <p><strong>本讲重点：</strong>我们先学习部署静态网站，第3讲再学习动态应用。</p>
                </div>
            </div>

            <!-- 常见Web服务器对比 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-balance-scale"></i>
                    <h4>常见 Web 服务器对比</h4>
                </div>
                <div class="module-content">
                    <table>
                        <thead>
                            <tr>
                                <th>服务器</th>
                                <th>特点</th>
                                <th>市场份额</th>
                                <th>适用场景</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Nginx</strong></td>
                                <td>
                                    • 高性能、低内存<br>
                                    • 事件驱动架构<br>
                                    • 配置简洁
                                </td>
                                <td>~35%</td>
                                <td>静态网站、反向代理、负载均衡</td>
                            </tr>
                            <tr>
                                <td><strong>Apache</strong></td>
                                <td>
                                    • 功能丰富<br>
                                    • 模块化设计<br>
                                    • .htaccess 支持
                                </td>
                                <td>~30%</td>
                                <td>传统Web应用、共享主机</td>
                            </tr>
                            <tr>
                                <td><strong>Tomcat</strong></td>
                                <td>
                                    • Java Servlet容器<br>
                                    • JSP支持<br>
                                    • 企业级应用
                                </td>
                                <td>~5%</td>
                                <td>Java Web应用</td>
                            </tr>
                            <tr>
                                <td><strong>IIS</strong></td>
                                <td>
                                    • Windows原生<br>
                                    • ASP.NET支持<br>
                                    • 图形化管理
                                </td>
                                <td>~10%</td>
                                <td>Windows服务器、.NET应用</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 为什么选Nginx -->
            <div class="module-tip">
                <div class="module-content">
                    <h5>🎯 为什么本课选择 Nginx？</h5>
                    <ol>
                        <li><strong>轻量高效：</strong>内存占用约5-10MB，适合容器化部署</li>
                        <li><strong>学习曲线平缓：</strong>配置文件简单易懂</li>
                        <li><strong>行业标准：</strong>大厂都在用（Netflix、淘宝、京东）</li>
                        <li><strong>Docker官方镜像：</strong>维护良好，开箱即用</li>
                        <li><strong>性能卓越：</strong>可处理10,000+并发连接</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Section 4: 启动 Nginx -->
        <section id="nginx-run" class="section-card">
            <h2>
                <i class="fas fa-play-circle"></i>
                4. 启动 Nginx：从失败到成功的完整过程
            </h2>

            <p>这一节我们将通过“失败-分析-解决”的方式，深入理解Docker网络隔离和端口映射的原理。这是每个初学者都会遇到的问题！</p>

            <!-- 第一次尝试 -->
            <div class="module-steps">
                <div class="module-header">
                    <i class="fas fa-times-circle"></i>
                    <h4>第一次尝试：没有端口映射（失败）</h4>
                </div>
                <div class="module-content">
                    <div class="step-item">
                        <span class="step-number">1</span>
                        <div class="step-content">
                            <h5>执行命令</h5>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code>$ docker run -d --name web nginx</code></pre>
                                </div>
                            </div>
                            <div class="module-output">
                                <div class="module-content">
                                    <pre><code>a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456</code></pre>
                                </div>
                            </div>
                            <p>✅ 容器启动成功！</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">2</span>
                        <div class="step-content">
                            <h5>查看容器状态</h5>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code>$ docker ps</code></pre>
                                </div>
                            </div>
                            <div class="module-output">
                                <div class="module-content">
                                    <pre><code>CONTAINER ID   IMAGE   COMMAND                  CREATED   STATUS       PORTS      NAMES
a1b2c3d4e5f6   nginx   "/docker-entrypoint.…"   5s ago    Up 4 seconds 80/tcp     web</code></pre>
                                </div>
                            </div>
                            <p><strong>注意看 PORTS 列：</strong><code>80/tcp</code> - 说明Nginx在容器内监听80端口，但<strong>没有映射到主机</strong></p>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">3</span>
                        <div class="step-content">
                            <h5>浏览器访问测试</h5>
                            <p>打开浏览器，访问：<code>http://localhost</code> 或 <code>http://localhost:80</code></p>
                            <div>
                                <p>❌ 结果：访问失败！</p>
                                <p>浏览器显示：<br>
                                <code>无法访问此网站</code> 或 <code>ERR_CONNECTION_REFUSED</code></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 失败原因分析 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-question-circle"></i>
                    <h4>🔍 为什么会失败？深入理解Docker网络隔离</h4>
                </div>
                <div class="module-content">
                    <h5>原因：Docker容器有独立的网络空间</h5>
                    
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code>网络隔离原理图：

┌─────────────────────────┐
│   💻 主机 (Host)            │
│                              │
│   🌐 网络接口: eth0         │
│   IP: 192.168.1.100         │
│                              │
│   ┌──────────────────┐  │
│   │ 📦 Docker容器    │  │
│   │                    │  │
│   │ 🌐 网络接口: eth0 │  │
│   │ IP: 172.17.0.2     │  │
│   │                    │  │
│   │ Nginx 监听: 80    │  │
│   └──────────────────┘  │
└─────────────────────────┘

问题：
1. 主机的 localhost (127.0.0.1) 指向主机自己
2. 容器的IP是 172.17.0.2，不是主机的localhost
3. 浏览器访问 localhost:80 → 找主机的80端口 → 没有监听 → 连接失败</code></pre>
                        </div>
                    </div>

                    <div class="module-tip">
                        <div class="module-content">
                            <p>💡 三个关键概念：</p>
                            <ul>
                                <li><strong>Network Namespace（网络命名空间）：</strong>Linux内核的网络隔离技术，让容器有独立的网络栈</li>
                                <li><strong>Docker Bridge（桥接网络）：</strong>Docker创建的虚拟网络，连接主机和容器</li>
                                <li><strong>Port Mapping（端口映射）：</strong>将主机端口转发到容器端口的机制</li>
                            </ul>
                        </div>
                    </div>

                    <h5>验证：容器内部Nginx是正常工作的</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 进入容器
docker exec -it web bash

# 在容器内测试
curl http://localhost

# 输出：
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
...

# 证明：Nginx在容器内部正常运行，只是外部无法访问</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 清理失败的容器 -->
            <div class="module-warning">
                <div class="module-header">
                    <i class="fas fa-broom"></i>
                    <h4>清理失败的容器</h4>
                </div>
                <div class="module-content">
                    <p>在开始下一步操作前，先删除这个失败的容器：</p>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code>$ docker rm -f web
web</code></pre>
                        </div>
                    </div>
                    <p><code>-f</code> 参数表示强制删除，即使容器还在运行中也会被停止并删除。</p>
                </div>
            </div>
        </section>

        <!-- Section 5: 端口映射 -->
        <section id="port-mapping" class="section-card">
            <h2>
                <i class="fas fa-network-wired"></i>
                5. 核心概念：端口映射完全指南
            </h2>

            <p>端口映射是Docker网络的核心知识点，也是每个初学者必须掌握的技能。这一节我们将全面讲解端口的概念、映射原理和多种实战场景。</p>

            <!-- 端口基础 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-door-open"></i>
                    <h4>什么是端口？深入理解</h4>
                </div>
                <div class="module-content">
                    <p><strong>官方定义：</strong>端口是传输层协议(TCP/UDP)用于区分不同服务的数字标识,范围0-65535。</p>
                    
                    <div class="module-tip">
                        <div class="module-content">
                            <p>🏢 生活类比：大楼的房间号</p>
                            <ul>
                                <li><strong>IP地址</strong> = 大楼地址(如"中关村大街1号")</li>
                                <li><strong>端口</strong> = 房间号(如1001室、1002室)</li>
                                <li><strong>服务程序</strong> = 房间里的人(如张三住1001、李四住1002)</li>
                            </ul>
                            <p>客人想找张三：到"中关村大街1号楼1001室" → 对应"192.168.1.100:80"</p>
                        </div>
                    </div>

                    <h5>端口的分类：</h5>
                    <div class="grid-auto">
                        <div>
                            <p>🔴 周知端口 (0-1023)</p>
                            <ul>
                                <li><code>80</code> - HTTP</li>
                                <li><code>443</code> - HTTPS</li>
                                <li><code>22</code> - SSH</li>
                                <li><code>21</code> - FTP</li>
                                <li><code>25</code> - SMTP (Email)</li>
                            </ul>
                        </div>
                        <div>
                            <p>🟡 注册端口 (1024-49151)</p>
                            <ul>
                                <li><code>3306</code> - MySQL</li>
                                <li><code>5432</code> - PostgreSQL</li>
                                <li><code>6379</code> - Redis</li>
                                <li><code>8080</code> - HTTP备用</li>
                                <li><code>3000</code> - Node.js应用</li>
                            </ul>
                        </div>
                        <div>
                            <p>🟢 动态端口 (49152-65535)</p>
                            <p>系统自动分配，临时连接使用</p>
                        </div>
                    </div>

                    <div class="module-warning">
                        <div class="module-content">
                            <p><strong>重要：</strong>同一台电脑上，一个端口同时只能被一个程序占用！</p>
                            <ul>
                                <li>✅ 允许：Nginx监听80，MySQL监听3306</li>
                                <li>❌ 不允许：两个Nginx同时监听80端口</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 端口映射原理 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-exchange-alt"></i>
                    <h4>端口映射原理：从主机到容器的"桥梁"</h4>
                </div>
                <div class="module-content">
                    <p><strong>为什么需要端口映射？</strong></p>
                    <p>Docker容器有独立的网络命名空间，容器内部的IP和端口对外界不可见。要让外部能访问容器内的服务，必须把主机端口"转发"到容器端口。</p>

                    <div class="module-command">
                        <div class="module-content">
                            <pre><code>端口映射完整流程图：

┌────────────────────────────────────────────────┐
│  💻 外部网络 (Internet)                         │
└────────────────────────────────────────────────┘
                    │
                    ↓ HTTP 请求：http://192.168.1.100:8080
                    │
┌────────────────────────────────────────────────┐
│  💻 主机 (Host Machine)                         │
│  IP: 192.168.1.100                              │
│                                                  │
│  🔹 端口 8080 监听 (Docker daemon)               │
│        │                                         │
│        │ 端口映射：8080 → 80                      │
│        ↓                                         │
│  ┌──────────────────────────────────────┐      │
│  │ 📦 Docker Container                  │      │
│  │                                      │      │
│  │ IP: 172.17.0.2                       │      │
│  │                                      │      │
│  │ 🔸 Nginx 监听端口 80                 │      │
│  │    │                                 │      │
│  │    ↓ 处理请求                        │      │
│  │    │                                 │      │
│  │    ↓ 返回 HTML                       │      │
│  └──────────────────────────────────────┘      │
└────────────────────────────────────────────────┘

数据流向：
1、浏览器发送请求到 192.168.1.100:8080
2、主机的Docker守护进程接收请求
3、Docker把请求转发到容器的 172.17.0.2:80
4、Nginx处理请求，返回HTML
5、响应沿原路返回给浏览器</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 端口映射语法 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-code"></i>
                    <h4>端口映射语法详解：-p 参数的多种写法</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div class="module-tip">
                            <div class="module-content">
                                <p><strong>基本语法：</strong></p>
                                <code>-p [主机IP:]主机端口:容器端口[/协议]</code>
                            </div>
                        </div>
                    </div>

                    <h5>常用写法示例：</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 1. 最常用：主机端口 → 容器端口
docker run -d -p 8080:80 nginx
# 效果：访问 localhost:8080 → 容器的80端口

# 2. 多个端口映射
docker run -d -p 8080:80 -p 8443:443 nginx
# 效果：同时映射HTTP和HTTPS

# 3. 相同端口映射（主机和容器端口相同）
docker run -d -p 80:80 nginx
# 效果：访问 localhost → 容器的80端口

# 4. 指定IP地址（只允许本地访问）
docker run -d -p 127.0.0.1:8080:80 nginx
# 效果：只有localhost能访问，外网不能访问

# 5. 随机端口（让Docker自动选择）
docker run -d -p 80 nginx
# 查看分配的端口：docker ps

# 6. 指定协议（TCP或UDP）
docker run -d -p 8080:80/tcp -p 53:53/udp nginx
# 默认是TCP，一般不需要指定

# 7. 端口范围映射
docker run -d -p 8080-8090:80-90 nginx
# 同时映射11个端口</code></pre>
                        </div>
                    </div>

                    <div class="module-warning">
                        <div class="module-content">
                            <p><strong>注意顺序：</strong><code>-p 主机端口:容器端口</code></p>
                            <ul>
                                <li>✅ 正确：<code>-p 8080:80</code> (外部:8080 → 内部:80)</li>
                                <li>❌ 错误：<code>-p 80:8080</code> (会导致混淆)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 实战演示 -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-rocket"></i>
                    <h4>实战：正确启动Nginx并验证</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>步骤 1：清理环境</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 删除所有名为 web 的容器
docker rm -f web</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>步骤 2：启动容器（带端口映射）</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code>$ docker run -d -p 8080:80 --name web nginx</code></pre>
                            </div>
                        </div>
                        <div class="module-output">
                            <div class="module-content">
                                <pre><code>abc123def456789...</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>步骤 3：验证端口映射</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code>$ docker ps</code></pre>
                            </div>
                        </div>
                        <div class="module-output">
                            <div class="module-content">
                                <pre><code>CONTAINER ID   IMAGE   COMMAND   CREATED   STATUS   PORTS                  NAMES
abc123def456   nginx   ...       5s ago    Up 4s    0.0.0.0:8080->80/tcp   web</code></pre>
                            </div>
                        </div>
                        <p><strong>关键看 PORTS 列：</strong><code>0.0.0.0:8080->80/tcp</code></p>
                        <ul>
                            <li><code>0.0.0.0</code> - 所有IP地址(包括localhost和外网IP)</li>
                            <li><code>8080</code> - 主机端口</li>
                            <li><code>80</code> - 容器端口</li>
                            <li><code>tcp</code> - TCP协议</li>
                        </ul>
                    </div>

                    <div class="practice-task">
                        <h5>步骤 4：浏览器测试</h5>
                        <p>打开浏览器，访问以下任意一个网址：</p>
                        <ul>
                            <li><code>http://localhost:8080</code></li>
                            <li><code>http://127.0.0.1:8080</code></li>
                            <li><code>http://[你的内网IP]:8080</code>(如 http://192.168.1.100:8080)</li>
                        </ul>
                        <div>
                            <p>✅ 预期结果：</p>
                            <p>浏览器显示：<strong>"Welcome to nginx!"</strong></p>
                            <p>如果看到这个页面，说明端口映射配置成功！</p>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>步骤 5：命令行测试(可选)</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># Windows (PowerShell)
curl http://localhost:8080

# Linux/Mac
curl -I http://localhost:8080

# 预期输出：
HTTP/1.1 200 OK
Server: nginx/1.25.3
Content-Type: text/html
...</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 常见问题排查 -->
            <div class="module-warning">
                <div class="module-header">
                    <i class="fas fa-tools"></i>
                    <h4>常见问题排查</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div>
                            <p>❌ 问题1：端口被占用</p>
                            <p>错误信息：<code>port is already allocated</code></p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 查看端口占用 (Windows)
netstat -ano | findstr :8080

# 查看端口占用 (Linux/Mac)
lsof -i :8080

# 解决方案1：换个端口
docker run -d -p 8081:80 --name web nginx

# 解决方案2：删除占用端口的容器
docker rm -f [容器名]</code></pre>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p>❌ 问题2：容器启动但访问不了</p>
                            <p>浏览器显示：<code>ERR_CONNECTION_REFUSED</code></p>
                            <p><strong>排查步骤：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 1. 确认容器运行中
docker ps

# 2. 检查端口映射是否正确
docker port web
# 应该显示：80/tcp -> 0.0.0.0:8080

# 3. 查看容器日志
docker logs web

# 4. 防火墙检查(Windows)
# 关闭防火墙或添加端口例外</code></pre>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p>❌ 问题3：混淆主机和容器端口</p>
                            <p>常见错误：<code>-p 80:8080</code>(写反了)</p>
                            <p><strong>记忆法：</strong></p>
                            <ul>
                                <li><strong>外部:内部</strong> → <code>-p 外部端口:容器端口</code></li>
                                <li><strong>主机:容器</strong> → <code>-p 主机:80</code></li>
                            </ul>
                        </div>

                        <div>
                            <p>❌ 问题4：Docker Desktop未启动</p>
                            <p>错误信息：<code>Cannot connect to Docker daemon</code></p>
                            <p><strong>解决：</strong>Windows用户启动Docker Desktop，Linux用户执行 <code>sudo systemctl start docker</code></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 高级技巧 -->
            <div class="module-tip">
                <div class="module-content">
                    <h5>🎯 高级技巧：动态查看容器端口</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 查看容器的所有端口映射
docker port web

# 输出：
80/tcp -> 0.0.0.0:8080
80/tcp -> [::]:8080

# 查看容器详细信息(包括网络配置)
docker inspect web | grep -A 10 "Ports"

# 在容器内查看监听的端口
docker exec web netstat -tuln</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: 修改网页 -->
        <section id="hack-container" class="section-card">
            <h2>
                <i class="fas fa-edit"></i>
                6. 进阶：容器内文件操作完整指南
            </h2>

            <p>现在我们已经让Nginx运行起来了，但显示的还是官方默认页面。这一节我们学习如何<strong>进入容器内部</strong>，修改网页文件，让它显示我们自己的内容。</p>

            <!-- Nginx文件结构 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-folder-tree"></i>
                    <h4>Nginx容器文件结构</h4>
                </div>
                <div class="module-content">
                    <p>在开始操作之前，先了解Nginx容器内的关键目录：</p>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code>Nginx 容器文件结构：
/usr/share/nginx/html/          # 📁 网页根目录（重点！）
├── index.html                  # 默认首页
└── 50x.html                    # 错误页面

/etc/nginx/                     # ⚙️ 配置文件目录
├── nginx.conf                  # 主配置文件
└── conf.d/
    └── default.conf            # 默认站点配置

/var/log/nginx/                 # 📋 日志目录
├── access.log                  # 访问日志
└── error.log                   # 错误日志</code></pre>
                        </div>
                    </div>
                    <div class="module-tip">
                        <div class="module-content">
                            <p><strong>记忆关键路径：</strong><code>/usr/share/nginx/html/index.html</code></p>
                            <p>这是我们要修改的目标文件！</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 方法1：docker exec进入容器 -->
            <div class="module-steps">
                <div class="module-header">
                    <i class="fas fa-terminal"></i>
                    <h4>方法1：使用docker exec进入容器交互式修改</h4>
                </div>
                <div class="module-content">
                    
                    <div class="step-item">
                        <span class="step-number">1</span>
                        <div class="step-content">
                            <h5>进入容器</h5>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code>$ docker exec -it web bash</code></pre>
                                </div>
                            </div>
                            <p><strong>参数详解：</strong></p>
                            <ul>
                                <li><code>-i</code> - Interactive，保持STDIN开启</li>
                                <li><code>-t</code> - TTY，分配伪终端</li>
                                <li><code>web</code> - 容器名称</li>
                                <li><code>bash</code> - 要执行的命令(进入Bash Shell)</li>
                            </ul>
                            <div class="module-output">
                                <div class="module-content">
                                    <pre><code>root@abc123def456:/# _</code></pre>
                                </div>
                            </div>
                            <p><strong>提示符变化：</strong><code>root@容器ID:/#</code> 表示已进入容器内部</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">2</span>
                        <div class="step-content">
                            <h5>导航到网页目录</h5>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code>$ cd /usr/share/nginx/html
$ ls -lh</code></pre>
                                </div>
                            </div>
                            <div class="module-output">
                                <div class="module-content">
                                    <pre><code>total 8.0K
-rw-r--r-- 1 root root 497 Oct 24 12:00 50x.html
-rw-r--r-- 1 root root 615 Oct 24 12:00 index.html</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">3</span>
                        <div class="step-content">
                            <h5>查看原始内容(可选)</h5>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code>$ cat index.html</code></pre>
                                </div>
                            </div>
                            <p>会显示默认的"Welcome to nginx!"页面的HTML源码</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">4</span>
                        <div class="step-content">
                            <h5>修改网页内容</h5>
                            <p>有多种方法可以修改文件：</p>
                            
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 方法A：直接覆盖(简单快速，注意中文需要设置UTF-8)
echo '&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="UTF-8"&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Hello Docker!&lt;/h1&gt;&lt;p&gt;这是我修改的页面&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;' &gt; index.html

# 方法B：使用cat写入多行内容(推荐，支持中文)
cat &gt; index.html &lt;&lt;EOF
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;我的页面&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;你好，Docker!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF

# 方法C：使用vi编辑器(适合大段修改)
vi index.html

# 方法D：使用nano编辑器(更友好)
# 需要先安装: apt-get update && apt-get install -y nano
nano index.html</code></pre>
                                </div>
                            </div>

                            <div class="module-tip">
                                <div class="module-content">
                                    <p>💡 Vi编辑器快速指南：</p>
                                    <ul>
                                        <li><code>i</code> - 进入插入模式</li>
                                        <li><code>Esc</code> - 退出插入模式</li>
                                        <li><code>:wq</code> - 保存并退出</li>
                                        <li><code>:q!</code> - 不保存强制退出</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="module-warning">
                                <div class="module-content">
                                    <p>⚠️ 中文编码注意事项：</p>
                                    <ul>
                                        <li><strong>必须添加：</strong><code>&lt;meta charset="UTF-8"&gt;</code> 标签</li>
                                        <li><strong>方法A：</strong>简单的 <code>echo</code> 命令可能导致中文乱码</li>
                                        <li><strong>推荐方法：</strong>使用 <code>cat &gt; file &lt;&lt;EOF</code> 写入多行内容（方法B）</li>
                                        <li><strong>或者：</strong>使用方法3（docker cp）从主机拷贝，完全避免编码问题</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">5</span>
                        <div class="step-content">
                            <h5>退出容器</h5>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code>$ exit</code></pre>
                                </div>
                            </div>
                            <p>或者按 <code>Ctrl+D</code> 快捷键</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <span class="step-number">6</span>
                        <div class="step-content">
                            <h5>验证修改</h5>
                            <p>刷新浏览器 <code>http://localhost:8080</code>，应该看到新内容！</p>
                            <div>
                                <p>✅ 成功标志：</p>
                                <p>页面显示 "Hello Docker! 这是我修改的页面"</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 方法2：docker exec单行命令 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-bolt"></i>
                    <h4>方法2：不进入容器，直接执行单行命令</h4>
                </div>
                <div class="module-content">
                    <p>如果只需要快速修改，可以不进入容器，直接执行命令：</p>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 在主机上直接执行（包含完整HTML结构）
docker exec web bash -c "cat &gt; /usr/share/nginx/html/index.html &lt;&lt;'EOF'
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=\"UTF-8\"&gt;
    &lt;title&gt;快速修改&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;快速修改的页面&lt;/h1&gt;
    &lt;p&gt;这个方法也支持中文显示！&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF"

# 查看修改结果
docker exec web cat /usr/share/nginx/html/index.html</code></pre>
                        </div>
                    </div>
                    <div class="module-tip">
                        <div class="module-content">
                            <p><strong>优点：</strong>一行命令完成，适合自动化脚本</p>
                            <p><strong>缺点：</strong>不适合特别复杂的多文件修改</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 方法3：docker cp文件拷贝 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-copy"></i>
                    <h4>方法3：使用docker cp在主机和容器间拷贝文件(推荐)</h4>
                </div>
                <div class="module-content">
                    <p><strong>最佳实践：</strong>在主机上编辑好HTML文件，然后拷贝到容器内</p>
                    
                    <div class="module-steps">
                        <div class="module-content">
                            <div class="step-item">
                                <span class="step-number">1</span>
                                <div class="step-content">
                                    <h5>在主机创建HTML文件</h5>
                                    <div class="module-command">
                                        <div class="module-content">
                                            <pre><code># Windows PowerShell
echo '&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="UTF-8"&gt;&lt;title&gt;我的网页&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Hello from Host!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;' &gt; index.html

# Linux/Mac
cat &gt; index.html &lt;&lt;EOF
&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;我的网页&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello from Host!&lt;/h1&gt;
    &lt;p&gt;这个文件是在主机上创建的&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="step-item">
                                <span class="step-number">2</span>
                                <div class="step-content">
                                    <h5>拷贝到容器</h5>
                                    <div class="module-command">
                                        <div class="module-content">
                                            <pre><code># 语法：docker cp 主机路径 容器名:容器路径
docker cp index.html web:/usr/share/nginx/html/index.html</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="step-item">
                                <span class="step-number">3</span>
                                <div class="step-content">
                                    <h5>验证</h5>
                                    <p>刷新浏览器查看效果</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h5>反向操作：从容器拷贝文件到主机</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 备份容器内的文件到主机
docker cp web:/usr/share/nginx/html/index.html ./backup.html</code></pre>
                        </div>
                    </div>

                    <div class="module-tip">
                        <div class="module-content">
                            <p><strong>🎯 为什么推荐docker cp方法？</strong></p>
                            <ul>
                                <li>✅ 可以使用主机上的编辑器(VSCode/Notepad++)</li>
                                <li>✅ 支持中文无乱码</li>
                                <li>✅ 可以拷贝整个目录</li>
                                <li>✅ 适合复杂网页(多个CSS/JS文件)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 持久化警告 -->
            <div class="module-warning">
                <div class="module-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>⚠️ 重要：容器内修改的持久性问题</h4>
                </div>
                <div class="module-content">
                    <p>以上三种方法修改的文件都是<strong>临时的</strong>！</p>
                    
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 演示：删除容器后修改会丢失
docker rm -f web

# 重新启动同样的镜像
docker run -d -p 8080:80 --name web nginx

# 刷新浏览器，会发现又变回了"Welcome to nginx!"</code></pre>
                        </div>
                    </div>

                    <h5>为什么会丢失？</h5>
                    <p>Docker容器的文件系统是<strong>分层的</strong>。容器运行时会在镜像之上创建一个<strong>可写层</strong>，所有修改都保存在这一层。删除容器后，这个可写层也被删除。</p>

                    <h5>持久化解决方案：</h5>
                    <div class="grid-auto">
                        <div class="module-tip">
                            <div class="module-content">
                                <p>方案1：数据卷挂载(-v)</p>
                                <div class="module-command">
                                    <div class="module-content">
                                        <pre><code>docker run -d -p 8080:80 \
  -v D:/myhtml:/usr/share/nginx/html \
  --name web nginx</code></pre>
                                    </div>
                                </div>
                                <p>把主机目录挂载到容器，修改会实时同步</p>
                            </div>
                        </div>

                        <div class="module-tip">
                            <div class="module-content">
                                <p>方案2：构建自定义镜像</p>
                                <div class="module-command">
                                    <div class="module-content">
                                        <pre><code># Dockerfile
FROM nginx
COPY index.html /usr/share/nginx/html/</code></pre>
                                    </div>
                                </div>
                                <p>把文件打包到镜像里(下一讲详解)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 实战练习 -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-laptop-code"></i>
                    <h4>实战练习：创建一个完整的个人主页</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>任务：创建一个包含CSS样式的个人介绍页面</h5>
                        <p>要求：包含姓名、专业、兴趣爱好，使用渐变背景</p>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;我的个人主页&lt;/title&gt;
    &lt;style&gt;
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 500px;
        }
        h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        .info { font-size: 1.1rem; margin: 0.5rem 0; opacity: 0.9; }
        .badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            margin: 0.5rem;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;h1&gt;👋 你好，我是张三&lt;/h1&gt;
        &lt;p class="info"&gt;🎓 专业：计算机科学与技术&lt;/p&gt;
        &lt;p class="info"&gt;📍 学校：XX大学&lt;/p&gt;
        &lt;div&gt;
            &lt;p&gt;兴趣爱好：&lt;/p&gt;
            &lt;span class="badge"&gt;💻 编程&lt;/span&gt;
            &lt;span class="badge"&gt;📷 摄影&lt;/span&gt;
            &lt;span class="badge"&gt;✈️ 旅行&lt;/span&gt;
        &lt;/div&gt;
        &lt;p&gt;
            Powered by Docker + Nginx 🐳
        &lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>about.html (关于页面)</h5>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;关于我 - 我的个人主页&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="navbar"&gt;
        &lt;div class="container"&gt;
            &lt;h2 class="logo"&gt;我的网站&lt;/h2&gt;
            &lt;ul class="nav-links"&gt;
                &lt;li&gt;&lt;a href="index.html"&gt;首页&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="about.html" class="active"&gt;关于&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="contact.html"&gt;联系&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;section class="content"&gt;
        &lt;div class="container"&gt;
            &lt;h1&gt;关于我&lt;/h1&gt;
            &lt;p&gt;我是一名热爱编程的开发者，专注于容器化技术和Web开发。这个网站使用Docker + Nginx部署，展示了现代化的DevOps实践。&lt;/p&gt;
            
            &lt;h2&gt;教育背景&lt;/h2&gt;
            &lt;p&gt;🎓 XX大学 - 计算机科学与技术专业 (2020-2024)&lt;/p&gt;
            
            &lt;h2&gt;项目经验&lt;/h2&gt;
            &lt;ul&gt;
                &lt;li&gt;
                    &lt;strong&gt;🚀 微服务平台&lt;/strong&gt;&lt;br&gt;
                    使用Docker Compose编排多个微服务，实现高可用架构
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;strong&gt;📱 移动端应用&lt;/strong&gt;&lt;br&gt;
                    React Native开发跨平台应用，部署到iOS和Android
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/section&gt;

    &lt;footer class="footer"&gt;
        &lt;div class="container"&gt;
            &lt;p&gt;&copy; 2024 张三的个人网站 | Powered by Docker + Nginx&lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>contact.html (联系页面)</h5>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;联系我 - 我的个人主页&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="navbar"&gt;
        &lt;div class="container"&gt;
            &lt;h2 class="logo"&gt;我的网站&lt;/h2&gt;
            &lt;ul class="nav-links"&gt;
                &lt;li&gt;&lt;a href="index.html"&gt;首页&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="about.html"&gt;关于&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="contact.html" class="active"&gt;联系&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;section class="content"&gt;
        &lt;div class="container"&gt;
            &lt;h1&gt;联系我&lt;/h1&gt;
            &lt;p&gt;如果你有任何问题或合作意向，欢迎通过以下方式联系我：&lt;/p&gt;
            
            &lt;div class="contact-info"&gt;
                &lt;div class="contact-card"&gt;
                    &lt;h3&gt;📧 Email&lt;/h3&gt;
                    &lt;p&gt;zhangsan@example.com&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="contact-card"&gt;
                    &lt;h3&gt;🐙 GitHub&lt;/h3&gt;
                    &lt;p&gt;github.com/zhangsan&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="contact-card"&gt;
                    &lt;h3&gt;💼 LinkedIn&lt;/h3&gt;
                    &lt;p&gt;linkedin.com/in/zhangsan&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;

    &lt;footer class="footer"&gt;
        &lt;div class="container"&gt;
            &lt;p&gt;&copy; 2024 张三的个人网站 | Powered by Docker + Nginx&lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 步骤3：创建CSS -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-palette"></i>
                    <h4>步骤3：创建样式文件</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>css/style.css</h5>
                        <p>创建 <code>css/style.css</code> 文件：</p>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>/* 全局样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Arial, sans-serif;
    line-height: 1.6;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

/* 导航栏 */
.navbar {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 1rem 0;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.navbar .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 2rem;
}

.nav-links a {
    color: white;
    text-decoration: none;
    transition: opacity 0.3s;
    font-weight: 500;
}

.nav-links a:hover,
.nav-links a.active {
    opacity: 0.8;
    text-decoration: underline;
}

/* 英雄区域 */
.hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 8rem 0 4rem;
    text-align: center;
}

.hero-title {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.hero-subtitle {
    font-size: 1.5rem;
    opacity: 0.9;
    margin-bottom: 2rem;
}

.hero-badges {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1.5rem;
    border-radius: 25px;
    backdrop-filter: blur(10px);
    font-weight: 500;
}

/* 内容区域 */
.content {
    padding: 4rem 0;
}

.content h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #667eea;
}

.content h2 {
    font-size: 2rem;
    margin: 2rem 0 1rem;
    color: #764ba2;
}

.content p {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    line-height: 1.8;
}

/* 技能卡片 */
.skills {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.skill-card {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s;
}

.skill-card:hover {
    transform: translateY(-5px);
}

.skill-card h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: #667eea;
}

/* 联系卡片 */
.contact-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.contact-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    transition: transform 0.3s;
}

.contact-card:hover {
    transform: scale(1.05);
}

.contact-card h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

/* 页脚 */
.footer {
    background: #333;
    color: white;
    text-align: center;
    padding: 2rem 0;
    margin-top: 4rem;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2rem;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
    }
    
    .nav-links {
        gap: 1rem;
    }
    
    .skills {
        grid-template-columns: 1fr;
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 步骤4：部署到Docker -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-docker"></i>
                    <h4>步骤4：使用Docker部署网站</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>方法1：使用数据卷挂载(推荐)</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># Windows PowerShell (假设你在 D:\my-website 目录)
docker run -d `
  -p 8080:80 `
  -v D:/my-website:/usr/share/nginx/html `
  --name my-website `
  --restart=unless-stopped `
  nginx

# Linux/Mac
docker run -d \
  -p 8080:80 \
  -v $(pwd):/usr/share/nginx/html \
  --name my-website \
  --restart=unless-stopped \
  nginx</code></pre>
                            </div>
                        </div>
                        <div class="module-tip">
                            <div class="module-content">
                                <p><strong>优点：</strong>修改主机文件后，刷新浏览器即可看到更新(无需重启容器)</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>方法2：使用docker cp(一次性部署)</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 启动容器
docker run -d -p 8080:80 --name my-website nginx

# 2. 停止Nginx(避免文件占用)
docker exec my-website nginx -s stop

# 3. 拷贝整个目录
docker cp . my-website:/usr/share/nginx/html/

# 4. 重启容器
docker restart my-website</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>验证部署</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 检查容器状态
docker ps | grep my-website

# 2. 查看容器日志
docker logs my-website

# 3. 访问网站
# 打开浏览器访问 http://localhost:8080</code></pre>
                            </div>
                        </div>
                        <div>
                            <p>✅ 成功标志：</p>
                            <ul>
                                <li>看到导航栏(紫色渐变背景)</li>
                                <li>可以点击"首页""关于""联系"切换页面</li>
                                <li>页面响应式(手机浏览也正常)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 故障排查 -->
            <div class="module-warning">
                <div class="module-header">
                    <i class="fas fa-wrench"></i>
                    <h4>常见问题排查</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div>
                            <p>❌ 样式不生效</p>
                            <p>原因：CSS文件路径错误</p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 进入容器检查文件结构
docker exec my-website ls -R /usr/share/nginx/html

# 确保css目录存在
docker exec my-website ls /usr/share/nginx/html/css</code></pre>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p>❌ Windows路径问题</p>
                            <p>原因：反斜杠 \ 需要改为正斜杠 /</p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 错误
-v C:\Users\...\my-website:/usr/share/nginx/html

# 正确
-v C:/Users/.../my-website:/usr/share/nginx/html</code></pre>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p>❌ 403 Forbidden错误</p>
                            <p>原因：没有index.html或权限问题</p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 检查文件权限
docker exec my-website ls -l /usr/share/nginx/html/

# 修复权限
docker exec my-website chmod -R 755 /usr/share/nginx/html</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 进阶挑战 -->
            <div class="module-tip">
                <div class="module-content">
                    <h5>🚀 进阶挑战：让网站更专业</h5>
                    <ul>
                        <li><strong>添加图片：</strong>在images目录放入头像图片，修改HTML引用</li>
                        <li><strong>添加JavaScript：</strong>实现导航栏滚动效果、打字机动画</li>
                        <li><strong>添加表单：</strong>在contact.html添加联系表单(纯前端验证)</li>
                        <li><strong>自定义域名：</strong>修改 /etc/hosts 添加本地域名解析</li>
                        <li><strong>HTTPS支持：</strong>学习使用自签名证书配置HTTPS(下一讲)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 7: 生命周期 -->
        <section id="lifecycle" class="section-card">
            <h2>
                <i class="fas fa-recycle"></i>
                7. 容器生命周期管理：从创建到销毁
            </h2>

            <p>容器的生命周期管理是Docker运维的核心技能。这一节我们将深入学习容器的各种状态、状态转换命令、以及高级管理技巧。</p>

            <!-- 容器状态图 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-project-diagram"></i>
                    <h4>容器状态流转图</h4>
                </div>
                <div class="module-content">
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code>容器生命周期完整流程：

                    docker create
                         ⬇️
                  [ created ]  ──────────────┐
                         ⬇️                    │
                  docker start               │
                         ⬇️                    │
                  [ running ] ←──────┐       │
                    ⬇️      ⬆️          │       │
         docker stop  docker restart  │       │
         docker kill      ⬇️          │       │
                    ⬇️      ⬆️          │       │ 
                  [ stopped ]  ────────┘       │
                         ⬇️                    │
                   docker rm  ←───────────────┘
                         ⬇️
                   [ removed ]

主要状态说明：
• created   - 已创建但未启动
• running   - 正在运行
• paused    - 暂停(docker pause)
• restarting- 重启中
• exited    - 已停止(退出码可查)
• dead      - 死亡(无法操作)</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 核心命令详解 -->
            <div class="module-command">
                <div class="module-header">
                    <i class="fas fa-terminal"></i>
                    <h4>核心生命周期管理命令</h4>
                </div>
                <div class="module-content">
                    <table>
                        <thead>
                            <tr>
                                <th>命令</th>
                                <th>说明</th>
                                <th>典型场景</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>docker create</code></td>
                                <td>创建容器但不启动</td>
                                <td>预创建容器，稍后启动</td>
                            </tr>
                            <tr>
                                <td><code>docker start</code></td>
                                <td>启动已停止的容器</td>
                                <td>恢复之前停止的容器</td>
                            </tr>
                            <tr>
                                <td><code>docker stop</code></td>
                                <td>优雅停止(发送SIGTERM)</td>
                                <td>正常关闭，保存数据</td>
                            </tr>
                            <tr>
                                <td><code>docker restart</code></td>
                                <td>重启容器(stop + start)</td>
                                <td>应用配置修改</td>
                            </tr>
                            <tr>
                                <td><code>docker pause</code></td>
                                <td>暂停容器(冻结进程)</td>
                                <td>临时释放CPU资源</td>
                            </tr>
                            <tr>
                                <td><code>docker unpause</code></td>
                                <td>恢复暂停的容器</td>
                                <td>继续执行</td>
                            </tr>
                            <tr>
                                <td><code>docker kill</code></td>
                                <td>强制杀死(发送SIGKILL)</td>
                                <td>容器无响应时使用</td>
                            </tr>
                            <tr>
                                <td><code>docker rm</code></td>
                                <td>删除已停止的容器</td>
                                <td>清理不需要的容器</td>
                            </tr>
                            <tr>
                                <td><code>docker rm -f</code></td>
                                <td>强制删除(即使运行中)</td>
                                <td>快速清理</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- stop vs kill详解 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-question-circle"></i>
                    <h4>🔍 docker stop 与 docker kill 的区别</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div class="module-tip">
                            <div class="module-content">
                                <p>✅ docker stop (推荐)</p>
                                <ul>
                                    <li><strong>信号：</strong>SIGTERM (15号信号)</li>
                                    <li><strong>行为：</strong>给容器10秒时间优雅关闭</li>
                                    <li><strong>效果：</strong>程序可以保存数据、关闭连接</li>
                                    <li><strong>超时：</strong>10秒后仍未停止，自动发送SIGKILL</li>
                                </ul>
                                <div class="module-command">
                                    <div class="module-content">
                                        <pre><code># 默认10秒超时
docker stop web

# 自定义超时时间(30秒)
docker stop -t 30 web</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="module-warning">
                            <div class="module-content">
                                <p>⚠️ docker kill (慎用)</p>
                                <ul>
                                    <li><strong>信号：</strong>SIGKILL (9号信号)</li>
                                    <li><strong>行为：</strong>立即强制终止进程</li>
                                    <li><strong>效果：</strong>类似拔电源，可能丢失数据</li>
                                    <li><strong>适用：</strong>容器卡死、无响应时</li>
                                </ul>
                                <div class="module-command">
                                    <div class="module-content">
                                        <pre><code># 强制杀死
docker kill web

# 发送自定义信号
docker kill -s SIGINT web</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="module-tip">
                        <div class="module-content">
                            <p>💡 类比理解：</p>
                            <ul>
                                <li><code>docker stop</code> = 点击"关机"按钮(正常关机流程)</li>
                                <li><code>docker kill</code> = 直接拔电源(强制断电)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 重启策略 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-redo"></i>
                    <h4>容器重启策略：自动恢复机制</h4>
                </div>
                <div class="module-content">
                    <p>重启策略决定了容器退出后的行为，对于生产环境至关重要。</p>

                    <table>
                        <thead>
                            <tr>
                                <th>策略</th>
                                <th>说明</th>
                                <th>适用场景</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>no</code></td>
                                <td>不自动重启(默认)</td>
                                <td>开发测试环境</td>
                            </tr>
                            <tr>
                                <td><code>always</code></td>
                                <td>总是重启</td>
                                <td>长期运行的服务</td>
                            </tr>
                            <tr>
                                <td><code>on-failure</code></td>
                                <td>非0退出码时重启</td>
                                <td>可能崩溃的应用</td>
                            </tr>
                            <tr>
                                <td><code>unless-stopped</code></td>
                                <td>除非手动停止</td>
                                <td>推荐生产环境</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5>实战示例：</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 1. 总是重启(适合Web服务器)
docker run -d --restart=always -p 8080:80 --name web nginx

# 2. 失败时重启，最多尝试3次
docker run -d --restart=on-failure:3 -p 8080:80 --name web nginx

# 3. 除非手动停止，否则总是重启
docker run -d --restart=unless-stopped -p 8080:80 --name web nginx

# 4. 修改已有容器的重启策略
docker update --restart=always web</code></pre>
                        </div>
                    </div>

                    <div class="module-tip">
                        <div class="module-content">
                            <p><strong>always vs unless-stopped 的区别：</strong></p>
                            <ul>
                                <li><code>always</code>: Docker daemon重启后，容器也会自动启动</li>
                                <li><code>unless-stopped</code>: 如果容器是手动停止的，daemon重启后不会自动启动</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 批量管理 -->
            <div class="module-tip">
                <div class="module-header">
                    <i class="fas fa-layer-group"></i>
                    <h4>批量操作：管理多个容器</h4>
                </div>
                <div class="module-content">
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 1. 停止所有运行中的容器
docker stop $(docker ps -q)

# 2. 删除所有已停止的容器
docker container prune
# 或者
docker rm $(docker ps -a -q -f status=exited)

# 3. 强制删除所有容器(包括运行中的)
docker rm -f $(docker ps -a -q)

# 4. 删除特定镜像的所有容器
docker ps -a --filter "ancestor=nginx" -q | xargs docker rm -f

# 5. 查看所有容器(包括停止的)
docker ps -a

# 6. 只查看容器ID
docker ps -q

# 7. 查看最近创建的3个容器
docker ps -a -n 3</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 日志和监控 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-chart-line"></i>
                    <h4>容器监控与日志管理</h4>
                </div>
                <div class="module-content">
                    <h5>实时监控容器资源使用：</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 实时显示所有容器的CPU、内存、网络、磁盘使用情况
docker stats

# 只监控特定容器
docker stats web

# 不持续刷新，只显示一次
docker stats --no-stream</code></pre>
                        </div>
                    </div>

                    <div class="module-output">
                        <div class="module-content">
                            <pre><code>CONTAINER ID   NAME   CPU %   MEM USAGE / LIMIT   MEM %   NET I/O       BLOCK I/O
abc123def456   web    0.01%   3.5MiB / 7.78GiB    0.04%   1.2kB / 0B    0B / 0B</code></pre>
                        </div>
                    </div>

                    <div class="module-warning">
                        <div class="module-content">
                            <p><strong>注意：</strong>docker stats 显示的是实时数据，可能会影响容器性能，建议在开发环境使用</p>
                        </div>
                    </div>

                    <h5>日志管理：</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 查看容器日志(最近100行)
docker logs --tail 100 web

# 实时跟踪日志(类似tail -f)
docker logs -f web

# 查看最近30分钟的日志
docker logs --since 30m web

# 查看时间戳
docker logs -t web

# 组合使用：实时查看最近50行带时间戳的日志
docker logs -f --tail 50 -t web</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 容器详细信息 -->
            <div class="module-tip">
                <div class="module-content">
                    <h5>🔍 查看容器详细信息</h5>
                    <div class="module-command">
                        <div class="module-content">
                            <pre><code># 查看容器完整配置(JSON格式)
docker inspect web

# 只查看IP地址
docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' web

# 查看容器的环境变量
docker inspect -f '{{.Config.Env}}' web

# 查看容器的启动时间
docker inspect -f '{{.State.StartedAt}}' web

# 查看容器的重启次数
docker inspect -f '{{.RestartCount}}' web</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 实战场景 -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-flask"></i>
                    <h4>实战场景：常见运维操作</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>场景1：应用更新流程</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 停止旧容器
docker stop web

# 2. 备份旧容器(可选)
docker commit web web-backup

# 3. 删除旧容器
docker rm web

# 4. 拉取最新镜像
docker pull nginx:latest

# 5. 启动新容器
docker run -d -p 8080:80 --name web --restart=always nginx:latest</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>场景2：容器故障排查</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 检查容器状态
docker ps -a | grep web

# 2. 查看退出码
docker inspect -f '{{.State.ExitCode}}' web

# 3. 查看错误日志
docker logs --tail 50 web

# 4. 进入容器调试
docker exec -it web bash

# 5. 查看资源使用
docker stats web --no-stream</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>场景3：清理Docker环境</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 删除所有已停止的容器
docker container prune -f

# 2. 删除所有未使用的镜像
docker image prune -a -f

# 3. 删除所有未使用的卷
docker volume prune -f

# 4. 删除所有未使用的网络
docker network prune -f

# 5. 一键清理所有未使用资源
docker system prune -a --volumes -f

# 6. 查看Docker占用的磁盘空间
docker system df</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 8: 完整实战 -->
        <section id="final-challenge" class="section-card">
            <h2>
                <i class="fas fa-trophy"></i>
                8. 完整实战：打造你的第一个专业网站
            </h2>

            <p>恭喜你已经掌握了Docker + Nginx的核心知识！现在我们来完成一个综合性的实战项目：<strong>创建一个响应式的个人主页</strong>，并使用数据卷实现持久化部署。</p>

            <!-- 项目目标 -->
            <div class="module-concept">
                <div class="module-header">
                    <i class="fas fa-bullseye"></i>
                    <h4>项目目标与技术要点</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div>
                            <p>✅ 要实现的功能：</p>
                            <ul>
                                <li>响应式个人主页</li>
                                <li>现代化CSS样式</li>
                                <li>多个页面(首页、关于、联系)</li>
                                <li>使用数据卷持久化</li>
                                <li>自动重启机制</li>
                            </ul>
                        </div>
                        <div>
                            <p>🎯 涉及的技术：</p>
                            <ul>
                                <li>Docker 容器运行</li>
                                <li>端口映射 (-p)</li>
                                <li>数据卷挂载 (-v)</li>
                                <li>HTML5 + CSS3</li>
                                <li>响应式设计</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 步骤1：项目结构 -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-folder-tree"></i>
                    <h4>步骤1：创建项目目录结构</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>在主机上创建目录</h5>
                        <div class="module-command">
                            <div class="module-content">
                                                               <pre><code># Windows PowerShell
mkdir my-website
cd my-website
mkdir css, js, images

# Linux/Mac
mkdir -p my-website/{css,js,images}
cd my-website</code></pre>
                            </div>
                        </div>
                        <p>目标结构：</p>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code>my-website/
├── index.html       # 首页
├── about.html       # 关于页面
├── contact.html     # 联系页面
├── css/
│   └── style.css    # 样式文件
├── js/
│   └── main.js      # JavaScript文件(可选)
└── images/          # 图片目录</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 步骤2：创建HTML文件 -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-code"></i>
                    <h4>步骤2：创建HTML文件</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>index.html (首页)</h5>
                        <p>将以下内容保存为 <code>index.html</code>：</p>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;我的个人主页 - 首页&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="navbar"&gt;
        &lt;div class="container"&gt;
            &lt;h2 class="logo"&gt;我的网站&lt;/h2&gt;
            &lt;ul class="nav-links"&gt;
                &lt;li&gt;&lt;a href="index.html" class="active"&gt;首页&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="about.html"&gt;关于&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="contact.html"&gt;联系&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;header class="hero"&gt;
        &lt;div class="container"&gt;
            &lt;h1 class="hero-title"&gt;👋 你好，我是张三&lt;/h1&gt;
            &lt;p class="hero-subtitle"&gt;全栈开发工程师 | Docker 爱好者&lt;/p&gt;
            &lt;div class="hero-badges"&gt;
                &lt;span class="badge"&gt;🐳 Docker&lt;/span&gt;
                &lt;span class="badge"&gt;🐍 Python&lt;/span&gt;
                &lt;span class="badge"&gt;⚛️ React&lt;/span&gt;
                &lt;span class="badge"&gt;🚀 Node.js&lt;/span&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/header&gt;

    &lt;section class="content"&gt;
        &lt;div class="container"&gt;
            &lt;h2&gt;关于我&lt;/h2&gt;
            &lt;p&gt;我是一名热爱编程的开发者，专注于容器化技术和Web开发。这个网站使用Docker + Nginx部署，展示了现代化的DevOps实践。&lt;/p&gt;
            
            &lt;div class="skills"&gt;
                &lt;div class="skill-card"&gt;
                    &lt;h3&gt;💻 前端开发&lt;/h3&gt;
                    &lt;p&gt;HTML5, CSS3, JavaScript, React&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="skill-card"&gt;
                    &lt;h3&gt;🔧 后端开发&lt;/h3&gt;
                    &lt;p&gt;Python, Node.js, Flask, Express&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="skill-card"&gt;
                    &lt;h3&gt;🐳 DevOps&lt;/h3&gt;
                    &lt;p&gt;Docker, Kubernetes, CI/CD&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;

    &lt;footer class="footer"&gt;
        &lt;div class="container"&gt;
            &lt;p&gt;&copy; 2024 张三的个人网站 | Powered by Docker + Nginx&lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>about.html (关于页面)</h5>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;关于我 - 我的个人主页&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="navbar"&gt;
        &lt;div class="container"&gt;
            &lt;h2 class="logo"&gt;我的网站&lt;/h2&gt;
            &lt;ul class="nav-links"&gt;
                &lt;li&gt;&lt;a href="index.html"&gt;首页&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="about.html" class="active"&gt;关于&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="contact.html"&gt;联系&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;section class="content"&gt;
        &lt;div class="container"&gt;
            &lt;h1&gt;关于我&lt;/h1&gt;
            &lt;p&gt;我是一名热爱编程的开发者，专注于容器化技术和Web开发。这个网站使用Docker + Nginx部署，展示了现代化的DevOps实践。&lt;/p&gt;
            
            &lt;h2&gt;教育背景&lt;/h2&gt;
            &lt;p&gt;🎓 XX大学 - 计算机科学与技术专业 (2020-2024)&lt;/p&gt;
            
            &lt;h2&gt;项目经验&lt;/h2&gt;
            &lt;ul&gt;
                &lt;li&gt;
                    &lt;strong&gt;🚀 微服务平台&lt;/strong&gt;&lt;br&gt;
                    使用Docker Compose编排多个微服务，实现高可用架构
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;strong&gt;📱 移动端应用&lt;/strong&gt;&lt;br&gt;
                    React Native开发跨平台应用，部署到iOS和Android
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/section&gt;

    &lt;footer class="footer"&gt;
        &lt;div class="container"&gt;
            &lt;p&gt;&copy; 2024 张三的个人网站 | Powered by Docker + Nginx&lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>contact.html (联系页面)</h5>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;联系我 - 我的个人主页&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="navbar"&gt;
        &lt;div class="container"&gt;
            &lt;h2 class="logo"&gt;我的网站&lt;/h2&gt;
            &lt;ul class="nav-links"&gt;
                &lt;li&gt;&lt;a href="index.html"&gt;首页&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="about.html"&gt;关于&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="contact.html" class="active"&gt;联系&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;section class="content"&gt;
        &lt;div class="container"&gt;
            &lt;h1&gt;联系我&lt;/h1&gt;
            &lt;p&gt;如果你有任何问题或合作意向，欢迎通过以下方式联系我：&lt;/p&gt;
            
            &lt;div class="contact-info"&gt;
                &lt;div class="contact-card"&gt;
                    &lt;h3&gt;📧 Email&lt;/h3&gt;
                    &lt;p&gt;zhangsan@example.com&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="contact-card"&gt;
                    &lt;h3&gt;🐙 GitHub&lt;/h3&gt;
                    &lt;p&gt;github.com/zhangsan&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class="contact-card"&gt;
                    &lt;h3&gt;💼 LinkedIn&lt;/h3&gt;
                    &lt;p&gt;linkedin.com/in/zhangsan&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;

    &lt;footer class="footer"&gt;
        &lt;div class="container"&gt;
            &lt;p&gt;&copy; 2024 张三的个人网站 | Powered by Docker + Nginx&lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 步骤3：创建CSS -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-palette"></i>
                    <h4>步骤3：创建样式文件</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>css/style.css</h5>
                        <p>创建 <code>css/style.css</code> 文件：</p>
                        <div class="module-code-file">
                            <div class="module-content">
                                <pre><code>/* 全局样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Arial, sans-serif;
    line-height: 1.6;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

/* 导航栏 */
.navbar {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 1rem 0;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.navbar .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 2rem;
}

.nav-links a {
    color: white;
    text-decoration: none;
    transition: opacity 0.3s;
    font-weight: 500;
}

.nav-links a:hover,
.nav-links a.active {
    opacity: 0.8;
    text-decoration: underline;
}

/* 英雄区域 */
.hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 8rem 0 4rem;
    text-align: center;
}

.hero-title {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.hero-subtitle {
    font-size: 1.5rem;
    opacity: 0.9;
    margin-bottom: 2rem;
}

.hero-badges {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1.5rem;
    border-radius: 25px;
    backdrop-filter: blur(10px);
    font-weight: 500;
}

/* 内容区域 */
.content {
    padding: 4rem 0;
}

.content h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #667eea;
}

.content h2 {
    font-size: 2rem;
    margin: 2rem 0 1rem;
    color: #764ba2;
}

.content p {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    line-height: 1.8;
}

/* 技能卡片 */
.skills {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.skill-card {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s;
}

.skill-card:hover {
    transform: translateY(-5px);
}

.skill-card h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: #667eea;
}

/* 联系卡片 */
.contact-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.contact-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    transition: transform 0.3s;
}

.contact-card:hover {
    transform: scale(1.05);
}

.contact-card h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

/* 页脚 */
.footer {
    background: #333;
    color: white;
    text-align: center;
    padding: 2rem 0;
    margin-top: 4rem;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2rem;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
    }
    
    .nav-links {
        gap: 1rem;
    }
    
    .skills {
        grid-template-columns: 1fr;
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 步骤4：部署到Docker -->
            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-docker"></i>
                    <h4>步骤4：使用Docker部署网站</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>方法1：使用数据卷挂载(推荐)</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># Windows PowerShell (假设你在 D:\my-website 目录)
docker run -d `
  -p 8080:80 `
  -v D:/my-website:/usr/share/nginx/html `
  --name my-website `
  --restart=unless-stopped `
  nginx

# Linux/Mac
docker run -d \
  -p 8080:80 \
  -v $(pwd):/usr/share/nginx/html \
  --name my-website \
  --restart=unless-stopped \
  nginx</code></pre>
                            </div>
                        </div>
                        <div class="module-tip">
                            <div class="module-content">
                                <p><strong>优点：</strong>修改主机文件后，刷新浏览器即可看到更新(无需重启容器)</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>方法2：使用docker cp(一次性部署)</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 启动容器
docker run -d -p 8080:80 --name my-website nginx

# 2. 停止Nginx(避免文件占用)
docker exec my-website nginx -s stop

# 3. 拷贝整个目录
docker cp . my-website:/usr/share/nginx/html/

# 4. 重启容器
docker restart my-website</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="practice-task">
                        <h5>验证部署</h5>
                        <div class="module-command">
                            <div class="module-content">
                                <pre><code># 1. 检查容器状态
docker ps | grep my-website

# 2. 查看容器日志
docker logs my-website

# 3. 访问网站
# 打开浏览器访问 http://localhost:8080</code></pre>
                            </div>
                        </div>
                        <div>
                            <p>✅ 成功标志：</p>
                            <ul>
                                <li>看到导航栏(紫色渐变背景)</li>
                                <li>可以点击"首页""关于""联系"切换页面</li>
                                <li>页面响应式(手机浏览也正常)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 故障排查 -->
            <div class="module-warning">
                <div class="module-header">
                    <i class="fas fa-wrench"></i>
                    <h4>常见问题排查</h4>
                </div>
                <div class="module-content">
                    <div class="grid-auto">
                        <div>
                            <p>❌ 样式不生效</p>
                            <p>原因：CSS文件路径错误</p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 进入容器检查文件结构
docker exec my-website ls -R /usr/share/nginx/html

# 确保css目录存在
docker exec my-website ls /usr/share/nginx/html/css</code></pre>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p>❌ Windows路径问题</p>
                            <p>原因：反斜杠 \ 需要改为正斜杠 /</p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 错误
-v C:\Users\...\my-website:/usr/share/nginx/html

# 正确
-v C:/Users/.../my-website:/usr/share/nginx/html</code></pre>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p>❌ 403 Forbidden错误</p>
                            <p>原因：没有index.html或权限问题</p>
                            <p><strong>解决：</strong></p>
                            <div class="module-command">
                                <div class="module-content">
                                    <pre><code># 检查文件权限
docker exec my-website ls -l /usr/share/nginx/html/

# 修复权限
docker exec my-website chmod -R 755 /usr/share/nginx/html</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 进阶挑战 -->
            <div class="module-tip">
                <div class="module-content">
                    <h5>🚀 进阶挑战：让网站更专业</h5>
                    <ul>
                        <li><strong>添加图片：</strong>在images目录放入头像图片，修改HTML引用</li>
                        <li><strong>添加JavaScript：</strong>实现导航栏滚动效果、打字机动画</li>
                        <li><strong>添加表单：</strong>在contact.html添加联系表单(纯前端验证)</li>
                        <li><strong>自定义域名：</strong>修改 /etc/hosts 添加本地域名解析</li>
                        <li><strong>HTTPS支持：</strong>学习使用自签名证书配置HTTPS(下一讲)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Summary -->
        <section class="section-card">
            <div class="module-summary">
                <div class="module-header">
                    <i class="fas fa-bookmark"></i>
                    <h4>本讲总结</h4>
                </div>
                <div class="module-content">
                    <ul>
                        <li>掌握 Docker 核心命令（run/ps/stop/rm/exec）</li>
                        <li>理解端口映射原理（-p 主机端口:容器端口）</li>
                        <li>学会进入容器修改文件（docker exec）</li>
                        <li>了解容器生命周期管理</li>
                        <li>完成第一个 Web 应用部署</li>
                    </ul>
                </div>
            </div>

            <div class="module-practice">
                <div class="module-header">
                    <i class="fas fa-tasks"></i>
                    <h4>课后作业</h4>
                </div>
                <div class="module-content">
                    <div class="practice-task">
                        <h5>作业 1：多端口部署</h5>
                        <p>同时运行 3 个 Nginx 容器，分别映射到 8081、8082、8083 端口，显示不同内容。</p>
                    </div>
                    <div class="practice-task">
                        <h5>作业 2：CSS 美化</h5>
                        <p>给你的个人主页添加更多 CSS 样式，让它更漂亮。</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p>Docker 容器技术竞赛培训 - 第二讲：玩转容器网络与修改网页</p>
            <p>
                <i class="fas fa-network-wired"></i> 端口映射 • 
                <i class="fas fa-terminal"></i> 容器操作 • 
                <i class="fas fa-edit"></i> 网页修改
            </p>
        </div>
    </footer>

    <script src="scripts/main.js" defer></script>
</body>
</html>
